{"mappings":"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","sources":["node_modules/@parcel/runtime-browser-hmr/lib/runtime-1b9b7decd864297f.js","samples/Parcel/src/code-flow-identityserver/sample.js","samples/Parcel/src/code-flow-identityserver/sample-settings.js","src/index.ts","src/utils/index.ts","src/utils/CryptoUtils.ts","node_modules/crypto-js/core.js","node_modules/@parcel/node-resolver-core/lib/_empty.js","node_modules/crypto-js/sha256.js","node_modules/crypto-js/enc-base64.js","node_modules/crypto-js/enc-utf8.js","src/utils/Log.ts","node_modules/@parcel/transformer-js/src/esmodule-helpers.js","src/utils/Event.ts","src/utils/JwtUtils.ts","node_modules/jwt-decode/build/jwt-decode.esm.js","node_modules/jwt-decode/lib/atob.js","node_modules/jwt-decode/lib/base64_url_decode.js","node_modules/jwt-decode/lib/index.js","src/utils/PopupUtils.ts","src/utils/Timer.ts","src/utils/UrlUtils.ts","src/AccessTokenEvents.ts","src/CheckSessionIFrame.ts","src/ErrorResponse.ts","src/InMemoryWebStorage.ts","src/MetadataService.ts","src/JsonService.ts","src/OidcClient.ts","src/OidcClientSettings.ts","src/WebStorageStateStore.ts","src/ResponseValidator.ts","src/UserInfoService.ts","src/TokenClient.ts","src/SigninRequest.ts","src/SigninState.ts","src/State.ts","src/SigninResponse.ts","src/SignoutRequest.ts","src/SignoutResponse.ts","src/SessionMonitor.ts","src/User.ts","src/UserManager.ts","src/navigators/index.ts","src/navigators/IFrameNavigator.ts","src/navigators/IFrameWindow.ts","src/navigators/AbstractChildWindow.ts","src/navigators/INavigator.ts","src/navigators/IWindow.ts","src/navigators/PopupNavigator.ts","src/navigators/PopupWindow.ts","src/navigators/RedirectNavigator.ts","src/UserManagerSettings.ts","src/UserManagerEvents.ts","src/SilentRenewService.ts","src/RefreshState.ts","src/Version.ts","package.json"],"sourcesContent":["var HMR_HOST = null;var HMR_PORT = null;var HMR_SECURE = false;var HMR_ENV_HASH = \"69f74e7f31319ffd\";module.bundle.HMR_BUNDLE_ID = \"dcd3110a47ca507c\";\"use strict\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/* global HMR_HOST, HMR_PORT, HMR_ENV_HASH, HMR_SECURE */\n\n/*::\nimport type {\n  HMRAsset,\n  HMRMessage,\n} from '@parcel/reporter-dev-server/src/HMRServer.js';\ninterface ParcelRequire {\n  (string): mixed;\n  cache: {|[string]: ParcelModule|};\n  hotData: mixed;\n  Module: any;\n  parent: ?ParcelRequire;\n  isParcelRequire: true;\n  modules: {|[string]: [Function, {|[string]: string|}]|};\n  HMR_BUNDLE_ID: string;\n  root: ParcelRequire;\n}\ninterface ParcelModule {\n  hot: {|\n    data: mixed,\n    accept(cb: (Function) => void): void,\n    dispose(cb: (mixed) => void): void,\n    // accept(deps: Array<string> | string, cb: (Function) => void): void,\n    // decline(): void,\n    _acceptCallbacks: Array<(Function) => void>,\n    _disposeCallbacks: Array<(mixed) => void>,\n  |};\n}\ndeclare var module: {bundle: ParcelRequire, ...};\ndeclare var HMR_HOST: string;\ndeclare var HMR_PORT: string;\ndeclare var HMR_ENV_HASH: string;\ndeclare var HMR_SECURE: boolean;\n*/\nvar OVERLAY_ID = '__parcel__error__overlay__';\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function accept(fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function dispose(fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n  module.bundle.hotData = undefined;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets\n/*: {|[string]: boolean|} */\n, acceptedAssets\n/*: {|[string]: boolean|} */\n, assetsToAccept\n/*: Array<[ParcelRequire, string]> */\n;\n\nfunction getHostname() {\n  return HMR_HOST || (location.protocol.indexOf('http') === 0 ? location.hostname : 'localhost');\n}\n\nfunction getPort() {\n  return HMR_PORT || location.port;\n} // eslint-disable-next-line no-redeclare\n\n\nvar parent = module.bundle.parent;\n\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = getHostname();\n  var port = getPort();\n  var protocol = HMR_SECURE || location.protocol == 'https:' && !/localhost|127.0.0.1|0.0.0.0/.test(hostname) ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + (port ? ':' + port : '') + '/'); // $FlowFixMe\n\n  ws.onmessage = function (event\n  /*: {data: string, ...} */\n  ) {\n    checkedAssets = {}\n    /*: {|[string]: boolean|} */\n    ;\n    acceptedAssets = {}\n    /*: {|[string]: boolean|} */\n    ;\n    assetsToAccept = [];\n    var data\n    /*: HMRMessage */\n    = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      // Remove error overlay if there is one\n      removeErrorOverlay();\n      var assets = data.assets.filter(function (asset) {\n        return asset.envHash === HMR_ENV_HASH;\n      }); // Handle HMR Update\n\n      var handled = assets.every(function (asset) {\n        return asset.type === 'css' || asset.type === 'js' && hmrAcceptCheck(module.bundle.root, asset.id, asset.depsByBundle);\n      });\n\n      if (handled) {\n        console.clear();\n        assets.forEach(function (asset) {\n          hmrApply(module.bundle.root, asset);\n        });\n\n        for (var i = 0; i < assetsToAccept.length; i++) {\n          var id = assetsToAccept[i][1];\n\n          if (!acceptedAssets[id]) {\n            hmrAcceptRun(assetsToAccept[i][0], id);\n          }\n        }\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'error') {\n      // Log parcel errors to console\n      var _iterator = _createForOfIteratorHelper(data.diagnostics.ansi),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var ansiDiagnostic = _step.value;\n          var stack = ansiDiagnostic.codeframe ? ansiDiagnostic.codeframe : ansiDiagnostic.stack;\n          console.error('🚨 [parcel]: ' + ansiDiagnostic.message + '\\n' + stack + '\\n\\n' + ansiDiagnostic.hints.join('\\n'));\n        } // Render the fancy html overlay\n\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      removeErrorOverlay();\n      var overlay = createErrorOverlay(data.diagnostics.html); // $FlowFixMe\n\n      document.body.appendChild(overlay);\n    }\n  };\n\n  ws.onerror = function (e) {\n    console.error(e.message);\n  };\n\n  ws.onclose = function () {\n    console.warn('[parcel] 🚨 Connection to the HMR server was lost');\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n\n  if (overlay) {\n    overlay.remove();\n    console.log('[parcel] ✨ Error resolved');\n  }\n}\n\nfunction createErrorOverlay(diagnostics) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n  var errorHTML = '<div style=\"background: black; opacity: 0.85; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; font-family: Menlo, Consolas, monospace; z-index: 9999;\">';\n\n  var _iterator2 = _createForOfIteratorHelper(diagnostics),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var diagnostic = _step2.value;\n      var stack = diagnostic.codeframe ? diagnostic.codeframe : diagnostic.stack;\n      errorHTML += \"\\n      <div>\\n        <div style=\\\"font-size: 18px; font-weight: bold; margin-top: 20px;\\\">\\n          \\uD83D\\uDEA8 \".concat(diagnostic.message, \"\\n        </div>\\n        <pre>\\n          \").concat(stack, \"\\n        </pre>\\n        <div>\\n          \").concat(diagnostic.hints.map(function (hint) {\n        return '<div>' + hint + '</div>';\n      }).join(''), \"\\n        </div>\\n      </div>\\n    \");\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n\n  errorHTML += '</div>';\n  overlay.innerHTML = errorHTML;\n  return overlay;\n}\n\nfunction getParents(bundle, id)\n/*: Array<[ParcelRequire, string]> */\n{\n  var modules = bundle.modules;\n\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n\n      if (dep === id || Array.isArray(dep) && dep[dep.length - 1] === id) {\n        parents.push([bundle, k]);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n\n  newLink.onload = function () {\n    if (link.parentNode !== null) {\n      // $FlowFixMe\n      link.parentNode.removeChild(link);\n    }\n  };\n\n  newLink.setAttribute('href', // $FlowFixMe\n  link.getAttribute('href').split('?')[0] + '?' + Date.now()); // $FlowFixMe\n\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\n\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n\n    for (var i = 0; i < links.length; i++) {\n      // $FlowFixMe[incompatible-type]\n      var href\n      /*: string */\n      = links[i].getAttribute('href');\n      var hostname = getHostname();\n      var servedFromHMRServer = hostname === 'localhost' ? new RegExp('^(https?:\\\\/\\\\/(0.0.0.0|127.0.0.1)|localhost):' + getPort()).test(href) : href.indexOf(hostname + ':' + getPort());\n      var absolute = /^https?:\\/\\//i.test(href) && href.indexOf(window.location.origin) !== 0 && !servedFromHMRServer;\n\n      if (!absolute) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nfunction hmrApply(bundle\n/*: ParcelRequire */\n, asset\n/*:  HMRAsset */\n) {\n  var modules = bundle.modules;\n\n  if (!modules) {\n    return;\n  }\n\n  if (asset.type === 'css') {\n    reloadCSS();\n    return;\n  }\n\n  var deps = asset.depsByBundle[bundle.HMR_BUNDLE_ID];\n\n  if (deps) {\n    var fn = new Function('require', 'module', 'exports', asset.output);\n    modules[asset.id] = [fn, deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle\n/*: ParcelRequire */\n, id\n/*: string */\n, depsByBundle\n/*: ?{ [string]: { [string]: string } }*/\n) {\n  var modules = bundle.modules;\n\n  if (!modules) {\n    return;\n  }\n\n  if (depsByBundle && !depsByBundle[bundle.HMR_BUNDLE_ID]) {\n    // If we reached the root bundle without finding where the asset should go,\n    // there's nothing to do. Mark as \"accepted\" so we don't reload the page.\n    if (!bundle.parent) {\n      return true;\n    }\n\n    return hmrAcceptCheck(bundle.parent, id, depsByBundle);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n\n  checkedAssets[id] = true;\n  var cached = bundle.cache[id];\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(module.bundle.root, id).some(function (v) {\n    return hmrAcceptCheck(v[0], v[1], null);\n  });\n}\n\nfunction hmrAcceptRun(bundle\n/*: ParcelRequire */\n, id\n/*: string */\n) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n\n  if (cached && cached.hot) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n  cached = bundle.cache[id];\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      var assetsToAlsoAccept = cb(function () {\n        return getParents(module.bundle.root, id);\n      });\n\n      if (assetsToAlsoAccept && assetsToAccept.length) {\n        // $FlowFixMe[method-unbinding]\n        assetsToAccept.push.apply(assetsToAccept, assetsToAlsoAccept);\n      }\n    });\n  }\n\n  acceptedAssets[id] = true;\n}","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Log, UserManager, settings } from \"./sample-settings\";\n\n///////////////////////////////\n// UI event handlers\n///////////////////////////////\ndocument.getElementById(\"clearState\").addEventListener(\"click\", clearState, false);\ndocument.getElementById(\"getUser\").addEventListener(\"click\", getUser, false);\ndocument.getElementById(\"removeUser\").addEventListener(\"click\", removeUser, false);\ndocument.getElementById(\"querySessionStatus\").addEventListener(\"click\", querySessionStatus, false);\ndocument.getElementById(\"revokeAccessToken\").addEventListener(\"click\", revokeAccessToken, false);\n\ndocument.getElementById(\"startSigninMainWindow\").addEventListener(\"click\", startSigninMainWindow, false);\ndocument.getElementById(\"endSigninMainWindow\").addEventListener(\"click\", endSigninMainWindow, false);\n\ndocument.getElementById(\"popupSignin\").addEventListener(\"click\", popupSignin, false);\ndocument.getElementById(\"iframeSignin\").addEventListener(\"click\", iframeSignin, false);\n\ndocument.getElementById(\"startSignoutMainWindow\").addEventListener(\"click\", startSignoutMainWindow, false);\ndocument.getElementById(\"endSignoutMainWindow\").addEventListener(\"click\", endSignoutMainWindow, false);\n\ndocument.getElementById(\"popupSignout\").addEventListener(\"click\", popupSignout, false);\n\n///////////////////////////////\n// config\n///////////////////////////////\nLog.logger = console;\nLog.level = Log.DEBUG;\n\nfunction log() {\n    document.getElementById(\"out\").innerText = \"\";\n\n    Array.prototype.forEach.call(arguments, function(msg) {\n        if (msg instanceof Error) {\n            msg = \"Error: \" + msg.message;\n        }\n        else if (typeof msg !== \"string\") {\n            msg = JSON.stringify(msg, null, 2);\n        }\n        document.getElementById(\"out\").innerHTML += msg + \"\\r\\n\";\n    });\n}\n\nvar mgr = new UserManager(settings);\n\n///////////////////////////////\n// events\n///////////////////////////////\nmgr.events.addAccessTokenExpiring(function () {\n    console.log(\"token expiring\");\n    log(\"token expiring\");\n\n    // maybe do this code manually if automaticSilentRenew doesn't work for you\n    mgr.signinSilent().then(function(user) {\n        log(\"silent renew success\", user);\n    }).catch(function(e) {\n        log(\"silent renew error\", e.message);\n    });\n});\n\nmgr.events.addAccessTokenExpired(function () {\n    console.log(\"token expired\");\n    log(\"token expired\");\n});\n\nmgr.events.addSilentRenewError(function (e) {\n    console.log(\"silent renew error\", e.message);\n    log(\"silent renew error\", e.message);\n});\n\nmgr.events.addUserLoaded(function (user) {\n    console.log(\"user loaded\", user);\n    mgr.getUser().then(function() {\n        console.log(\"getUser loaded user after userLoaded event fired\");\n    });\n});\n\nmgr.events.addUserUnloaded(function (e) {\n    console.log(\"user unloaded\");\n});\n\nmgr.events.addUserSignedIn(function (e) {\n    log(\"user logged in to the token server\");\n});\nmgr.events.addUserSignedOut(function (e) {\n    log(\"user logged out of the token server\");\n});\n\n///////////////////////////////\n// functions for UI elements\n///////////////////////////////\nfunction clearState() {\n    mgr.clearStaleState().then(function() {\n        log(\"clearStateState success\");\n    }).catch(function(err) {\n        console.error(err);\n        log(err);\n    });\n}\n\nfunction getUser() {\n    mgr.getUser().then(function(user) {\n        log(\"got user\", user);\n    }).catch(function(err) {\n        console.error(err);\n        log(err);\n    });\n}\n\nfunction removeUser() {\n    mgr.removeUser().then(function() {\n        log(\"user removed\");\n    }).catch(function(err) {\n        console.error(err);\n        log(err);\n    });\n}\n\nfunction querySessionStatus() {\n    mgr.querySessionStatus().then(function(status) {\n        log(\"user's session status\", status);\n    }).catch(function(err) {\n        console.error(err);\n        log(err);\n    });\n}\n\nfunction revokeAccessToken() {\n    mgr.revokeAccessToken().then(function() {\n        log(\"access token revoked\");\n    }).catch(function(err) {\n        console.error(err);\n        log(err);\n    });\n}\n\nfunction startSigninMainWindow() {\n    mgr.signinRedirect({ state: { foo: \"bar\" } /*, useReplaceToNavigate: true*/ }).then(function() {\n        log(\"signinRedirect done\");\n    }).catch(function(err) {\n        console.error(err);\n        log(err);\n    });\n}\n\nfunction endSigninMainWindow() {\n    mgr.signinCallback().then(function(user) {\n        log(\"signed in\", user);\n        // this is how you get the custom state after the login:\n        var customState = user.state;\n        console.log(\"here's our post-login custom state\", customState);\n    }).catch(function(err) {\n        console.error(err);\n        log(err);\n    });\n}\n\nfunction popupSignin() {\n    mgr.signinPopup().then(function(user) {\n        log(\"signed in\", user);\n    }).catch(function(err) {\n        console.error(err);\n        log(err);\n    });\n}\n\nfunction popupSignout() {\n    mgr.signoutPopup().then(function() {\n        log(\"signed out\");\n    }).catch(function(err) {\n        console.error(err);\n        log(err);\n    });\n}\n\nfunction iframeSignin() {\n    mgr.signinSilent().then(function(user) {\n        log(\"signed in silent\", user);\n    }).catch(function(err) {\n        console.error(err);\n        log(err);\n    });\n}\n\nfunction startSignoutMainWindow() {\n    mgr.signoutRedirect().then(function(resp) {\n        log(\"signed out\", resp);\n    }).catch(function(err) {\n        console.error(err);\n        log(err);\n    });\n}\n\nfunction endSignoutMainWindow() {\n    mgr.signoutCallback().then(function(resp) {\n        log(\"signed out\", resp);\n    }).catch(function(err) {\n        console.error(err);\n        log(err);\n    });\n}\n\nexport {\n    log\n};\n","import { Log, UserManager} from \"../../../../src\";\n\nconst url = window.location.origin + \"/code-flow-identityserver\";\n\nexport const settings = {\n    authority: \"https://qaautenticaciondigital.and.gov.co\",\n    client_id: \"TestOidcJS\",\n    //client_id: 'interactive.public.short',\n    redirect_uri: url + \"/sample-callback.html\",\n    post_logout_redirect_uri: \"http://localhost:3001\" + \"/index.html\",\n    response_type: \"code\",\n    //response_mode: 'fragment',\n    scope: \"openid profile co_scope\",\n    //scope: 'openid profile api offline_access',\n\n    popup_redirect_uri: url + \"/sample-popup-signin.html\",\n    popup_post_logout_redirect_uri: url + \"/sample-popup-signout.html\",\n\n    silent_redirect_uri: url + \"/sample-silent.html\",\n    automaticSilentRenew: false,\n    validateSubOnSilentRenew: true,\n    //silentRequestTimeout: 10000,\n\n    loadUserInfo: true,\n\n    monitorAnonymousSession: true,\n\n    filterProtocolClaims: true,\n    revokeAccessTokenOnSignout: true,\n\n    //metadata: {\"issuer\":\"https://demo.identityserver.io\",\"jwks_uri\":\"https://demo.identityserver.io/.well-known/openid-configuration/jwks\",\"authorization_endpoint\":\"https://demo.identityserver.io/connect/authorize\",\"token_endpoint\":\"https://demo.identityserver.io/connect/token\",\"userinfo_endpoint\":\"https://demo.identityserver.io/connect/userinfo\",\"end_session_endpoint\":\"https://demo.identityserver.io/connect/endsession\",\"check_session_iframe\":\"https://demo.identityserver.io/connect/checksession\",\"revocation_endpoint\":\"https://demo.identityserver.io/connect/revocation\",\"introspection_endpoint\":\"https://demo.identityserver.io/connect/introspect\",\"device_authorization_endpoint\":\"https://demo.identityserver.io/connect/deviceauthorization\",\"frontchannel_logout_supported\":true,\"frontchannel_logout_session_supported\":true,\"backchannel_logout_supported\":true,\"backchannel_logout_session_supported\":true,\"scopes_supported\":[\"openid\",\"profile\",\"email\",\"api\",\"api.scope1\",\"api.scope2\",\"scope2\",\"policyserver.runtime\",\"policyserver.management\",\"offline_access\"],\"claims_supported\":[\"sub\",\"name\",\"family_name\",\"given_name\",\"middle_name\",\"nickname\",\"preferred_username\",\"profile\",\"picture\",\"website\",\"gender\",\"birthdate\",\"zoneinfo\",\"locale\",\"updated_at\",\"email\",\"email_verified\"],\"grant_types_supported\":[\"authorization_code\",\"client_credentials\",\"refresh_token\",\"implicit\",\"password\",\"urn:ietf:params:oauth:grant-type:device_code\"],\"response_types_supported\":[\"code\",\"token\",\"id_token\",\"id_token token\",\"code id_token\",\"code token\",\"code id_token token\"],\"response_modes_supported\":[\"form_post\",\"query\",\"fragment\"],\"token_endpoint_auth_methods_supported\":[\"client_secret_basic\",\"client_secret_post\"],\"id_token_signing_alg_values_supported\":[\"RS256\"],\"subject_types_supported\":[\"public\"],\"code_challenge_methods_supported\":[\"plain\",\"S256\"],\"request_parameter_supported\":true},\n    //metadataSeed: {\"some_extra_data\":\"some_value\"},\n    //signingKeys:[{\"kty\":\"RSA\",\"use\":\"sig\",\"kid\":\"5CCAA03EDDE26D53104CC35D0D4B299C\",\"e\":\"AQAB\",\"n\":\"3fbgsZuL5Kp7HyliAznS6N0kTTAqApIzYqu0tORUk4T9m2f3uW5lDomNmwwPuZ3QDn0nwN3esx2NvZjL_g5DN407Pgl0ffHhARdtydJvdvNJIpW4CmyYGnI8H4ZdHtuW4wF8GbKadIGgwpI4UqcsHuPiWKARfWZMQfPKBT08SiIPwGncavlRRDgRVX1T94AgZE_fOTJ4Odko9RX9iNXghJIzJ_wEkY9GEkoHz5lQGdHYUplxOS6fcxL8j_N9urSBlnoYjPntBOwUfPsMoNcmIDXPARcq10miWTz8SHzUYRtsiSUMqimRJ9KdCucKcCmttB_p_EAWohJQDnav-Vqi3Q\",\"alg\":\"RS256\"}]\n};\n\nexport {\n    Log,\n    UserManager\n};\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nexport type { IFrameWindowParams, PopupWindowParams, RedirectParams } from \"./navigators\";\nexport { Log, Logger } from \"./utils\";\nexport type { ILogger, PopupWindowFeatures } from \"./utils\";\n\nexport { AccessTokenEvents } from \"./AccessTokenEvents\";\nexport type { AccessTokenCallback } from \"./AccessTokenEvents\";\nexport { CheckSessionIFrame } from \"./CheckSessionIFrame\";\nexport { ErrorResponse } from \"./ErrorResponse\";\nexport { InMemoryWebStorage } from \"./InMemoryWebStorage\";\nexport { MetadataService } from \"./MetadataService\";\nexport * from \"./OidcClient\";\nexport { OidcClientSettingsStore } from \"./OidcClientSettings\";\nexport type { OidcClientSettings, SigningKey } from \"./OidcClientSettings\";\nexport type { OidcMetadata } from \"./OidcMetadata\";\nexport { SessionMonitor } from \"./SessionMonitor\";\nexport type { SessionStatus } from \"./SessionStatus\";\nexport type { SigninRequest, SigninRequestArgs } from \"./SigninRequest\";\nexport { SigninResponse } from \"./SigninResponse\";\nexport { SigninState } from \"./SigninState\";\nexport type { SignoutRequest, SignoutRequestArgs } from \"./SignoutRequest\";\nexport { SignoutResponse } from \"./SignoutResponse\";\nexport { State } from \"./State\";\nexport type { StateStore } from \"./StateStore\";\nexport { User } from \"./User\";\nexport type { UserProfile } from \"./User\";\nexport * from \"./UserManager\";\nexport type {\n    UserManagerEvents,\n    SilentRenewErrorCallback,\n    UserLoadedCallback,\n    UserSessionChangedCallback,\n    UserSignedInCallback,\n    UserSignedOutCallback,\n    UserUnloadedCallback,\n} from \"./UserManagerEvents\";\nexport { UserManagerSettingsStore } from \"./UserManagerSettings\";\nexport type { UserManagerSettings } from \"./UserManagerSettings\";\nexport { Version } from \"./Version\";\nexport { WebStorageStateStore } from \"./WebStorageStateStore\";\n","export * from \"./CryptoUtils\";\nexport * from \"./Event\";\nexport * from \"./JwtUtils\";\nexport * from \"./Log\";\nexport * from \"./PopupUtils\";\nexport * from \"./Timer\";\nexport * from \"./UrlUtils\";\n","import CryptoJS from \"crypto-js/core.js\";\nimport sha256 from \"crypto-js/sha256.js\";\nimport Base64 from \"crypto-js/enc-base64.js\";\nimport Utf8 from \"crypto-js/enc-utf8.js\";\n\nimport { Logger } from \"./Log\";\n\nconst UUID_V4_TEMPLATE = \"10000000-1000-4000-8000-100000000000\";\n\n/**\n * @internal\n */\nexport class CryptoUtils {\n    private static _randomWord(): number {\n        return CryptoJS.lib.WordArray.random(1).words[0];\n    }\n\n    /**\n     * Generates RFC4122 version 4 guid\n     */\n    public static generateUUIDv4(): string {\n        const uuid = UUID_V4_TEMPLATE.replace(/[018]/g, c =>\n            (+c ^ CryptoUtils._randomWord() & 15 >> +c / 4).toString(16),\n        );\n        return uuid.replace(/-/g, \"\");\n    }\n\n    /**\n     * PKCE: Generate a code verifier\n     */\n    public static generateCodeVerifier(): string {\n        return CryptoUtils.generateUUIDv4() + CryptoUtils.generateUUIDv4() + CryptoUtils.generateUUIDv4();\n    }\n\n    /**\n     * PKCE: Generate a code challenge\n     */\n    public static generateCodeChallenge(code_verifier: string): string {\n        try {\n            const hashed = sha256(code_verifier);\n            return Base64.stringify(hashed).replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=+$/, \"\");\n        }\n        catch (err) {\n            Logger.error(\"CryptoUtils\", err);\n            throw err;\n        }\n    }\n\n    /**\n     * Generates a base64-encoded string for a basic auth header\n     */\n    public static generateBasicAuth(client_id: string, client_secret: string): string {\n        const basicAuth = Utf8.parse([client_id, client_secret].join(\":\"));\n        return Base64.stringify(basicAuth);\n    }\n}\n",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory();\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\troot.CryptoJS = factory();\n\t}\n}(this, function () {\n\n\t/*globals window, global, require*/\n\n\t/**\n\t * CryptoJS core components.\n\t */\n\tvar CryptoJS = CryptoJS || (function (Math, undefined) {\n\n\t    var crypto;\n\n\t    // Native crypto from window (Browser)\n\t    if (typeof window !== 'undefined' && window.crypto) {\n\t        crypto = window.crypto;\n\t    }\n\n\t    // Native crypto in web worker (Browser)\n\t    if (typeof self !== 'undefined' && self.crypto) {\n\t        crypto = self.crypto;\n\t    }\n\n\t    // Native crypto from worker\n\t    if (typeof globalThis !== 'undefined' && globalThis.crypto) {\n\t        crypto = globalThis.crypto;\n\t    }\n\n\t    // Native (experimental IE 11) crypto from window (Browser)\n\t    if (!crypto && typeof window !== 'undefined' && window.msCrypto) {\n\t        crypto = window.msCrypto;\n\t    }\n\n\t    // Native crypto from global (NodeJS)\n\t    if (!crypto && typeof global !== 'undefined' && global.crypto) {\n\t        crypto = global.crypto;\n\t    }\n\n\t    // Native crypto import via require (NodeJS)\n\t    if (!crypto && typeof require === 'function') {\n\t        try {\n\t            crypto = require('crypto');\n\t        } catch (err) {}\n\t    }\n\n\t    /*\n\t     * Cryptographically secure pseudorandom number generator\n\t     *\n\t     * As Math.random() is cryptographically not safe to use\n\t     */\n\t    var cryptoSecureRandomInt = function () {\n\t        if (crypto) {\n\t            // Use getRandomValues method (Browser)\n\t            if (typeof crypto.getRandomValues === 'function') {\n\t                try {\n\t                    return crypto.getRandomValues(new Uint32Array(1))[0];\n\t                } catch (err) {}\n\t            }\n\n\t            // Use randomBytes method (NodeJS)\n\t            if (typeof crypto.randomBytes === 'function') {\n\t                try {\n\t                    return crypto.randomBytes(4).readInt32LE();\n\t                } catch (err) {}\n\t            }\n\t        }\n\n\t        throw new Error('Native crypto module could not be used to get secure random number.');\n\t    };\n\n\t    /*\n\t     * Local polyfill of Object.create\n\n\t     */\n\t    var create = Object.create || (function () {\n\t        function F() {}\n\n\t        return function (obj) {\n\t            var subtype;\n\n\t            F.prototype = obj;\n\n\t            subtype = new F();\n\n\t            F.prototype = null;\n\n\t            return subtype;\n\t        };\n\t    }());\n\n\t    /**\n\t     * CryptoJS namespace.\n\t     */\n\t    var C = {};\n\n\t    /**\n\t     * Library namespace.\n\t     */\n\t    var C_lib = C.lib = {};\n\n\t    /**\n\t     * Base object for prototypal inheritance.\n\t     */\n\t    var Base = C_lib.Base = (function () {\n\n\n\t        return {\n\t            /**\n\t             * Creates a new object that inherits from this object.\n\t             *\n\t             * @param {Object} overrides Properties to copy into the new object.\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         field: 'value',\n\t             *\n\t             *         method: function () {\n\t             *         }\n\t             *     });\n\t             */\n\t            extend: function (overrides) {\n\t                // Spawn\n\t                var subtype = create(this);\n\n\t                // Augment\n\t                if (overrides) {\n\t                    subtype.mixIn(overrides);\n\t                }\n\n\t                // Create default initializer\n\t                if (!subtype.hasOwnProperty('init') || this.init === subtype.init) {\n\t                    subtype.init = function () {\n\t                        subtype.$super.init.apply(this, arguments);\n\t                    };\n\t                }\n\n\t                // Initializer's prototype is the subtype object\n\t                subtype.init.prototype = subtype;\n\n\t                // Reference supertype\n\t                subtype.$super = this;\n\n\t                return subtype;\n\t            },\n\n\t            /**\n\t             * Extends this object and runs the init method.\n\t             * Arguments to create() will be passed to init().\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var instance = MyType.create();\n\t             */\n\t            create: function () {\n\t                var instance = this.extend();\n\t                instance.init.apply(instance, arguments);\n\n\t                return instance;\n\t            },\n\n\t            /**\n\t             * Initializes a newly created object.\n\t             * Override this method to add some logic when your objects are created.\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         init: function () {\n\t             *             // ...\n\t             *         }\n\t             *     });\n\t             */\n\t            init: function () {\n\t            },\n\n\t            /**\n\t             * Copies properties into this object.\n\t             *\n\t             * @param {Object} properties The properties to mix in.\n\t             *\n\t             * @example\n\t             *\n\t             *     MyType.mixIn({\n\t             *         field: 'value'\n\t             *     });\n\t             */\n\t            mixIn: function (properties) {\n\t                for (var propertyName in properties) {\n\t                    if (properties.hasOwnProperty(propertyName)) {\n\t                        this[propertyName] = properties[propertyName];\n\t                    }\n\t                }\n\n\t                // IE won't copy toString using the loop above\n\t                if (properties.hasOwnProperty('toString')) {\n\t                    this.toString = properties.toString;\n\t                }\n\t            },\n\n\t            /**\n\t             * Creates a copy of this object.\n\t             *\n\t             * @return {Object} The clone.\n\t             *\n\t             * @example\n\t             *\n\t             *     var clone = instance.clone();\n\t             */\n\t            clone: function () {\n\t                return this.init.prototype.extend(this);\n\t            }\n\t        };\n\t    }());\n\n\t    /**\n\t     * An array of 32-bit words.\n\t     *\n\t     * @property {Array} words The array of 32-bit words.\n\t     * @property {number} sigBytes The number of significant bytes in this word array.\n\t     */\n\t    var WordArray = C_lib.WordArray = Base.extend({\n\t        /**\n\t         * Initializes a newly created word array.\n\t         *\n\t         * @param {Array} words (Optional) An array of 32-bit words.\n\t         * @param {number} sigBytes (Optional) The number of significant bytes in the words.\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.create();\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607]);\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607], 6);\n\t         */\n\t        init: function (words, sigBytes) {\n\t            words = this.words = words || [];\n\n\t            if (sigBytes != undefined) {\n\t                this.sigBytes = sigBytes;\n\t            } else {\n\t                this.sigBytes = words.length * 4;\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts this word array to a string.\n\t         *\n\t         * @param {Encoder} encoder (Optional) The encoding strategy to use. Default: CryptoJS.enc.Hex\n\t         *\n\t         * @return {string} The stringified word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     var string = wordArray + '';\n\t         *     var string = wordArray.toString();\n\t         *     var string = wordArray.toString(CryptoJS.enc.Utf8);\n\t         */\n\t        toString: function (encoder) {\n\t            return (encoder || Hex).stringify(this);\n\t        },\n\n\t        /**\n\t         * Concatenates a word array to this word array.\n\t         *\n\t         * @param {WordArray} wordArray The word array to append.\n\t         *\n\t         * @return {WordArray} This word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray1.concat(wordArray2);\n\t         */\n\t        concat: function (wordArray) {\n\t            // Shortcuts\n\t            var thisWords = this.words;\n\t            var thatWords = wordArray.words;\n\t            var thisSigBytes = this.sigBytes;\n\t            var thatSigBytes = wordArray.sigBytes;\n\n\t            // Clamp excess bits\n\t            this.clamp();\n\n\t            // Concat\n\t            if (thisSigBytes % 4) {\n\t                // Copy one byte at a time\n\t                for (var i = 0; i < thatSigBytes; i++) {\n\t                    var thatByte = (thatWords[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                    thisWords[(thisSigBytes + i) >>> 2] |= thatByte << (24 - ((thisSigBytes + i) % 4) * 8);\n\t                }\n\t            } else {\n\t                // Copy one word at a time\n\t                for (var j = 0; j < thatSigBytes; j += 4) {\n\t                    thisWords[(thisSigBytes + j) >>> 2] = thatWords[j >>> 2];\n\t                }\n\t            }\n\t            this.sigBytes += thatSigBytes;\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Removes insignificant bits.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray.clamp();\n\t         */\n\t        clamp: function () {\n\t            // Shortcuts\n\t            var words = this.words;\n\t            var sigBytes = this.sigBytes;\n\n\t            // Clamp\n\t            words[sigBytes >>> 2] &= 0xffffffff << (32 - (sigBytes % 4) * 8);\n\t            words.length = Math.ceil(sigBytes / 4);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this word array.\n\t         *\n\t         * @return {WordArray} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = wordArray.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone.words = this.words.slice(0);\n\n\t            return clone;\n\t        },\n\n\t        /**\n\t         * Creates a word array filled with random bytes.\n\t         *\n\t         * @param {number} nBytes The number of random bytes to generate.\n\t         *\n\t         * @return {WordArray} The random word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.random(16);\n\t         */\n\t        random: function (nBytes) {\n\t            var words = [];\n\n\t            for (var i = 0; i < nBytes; i += 4) {\n\t                words.push(cryptoSecureRandomInt());\n\t            }\n\n\t            return new WordArray.init(words, nBytes);\n\t        }\n\t    });\n\n\t    /**\n\t     * Encoder namespace.\n\t     */\n\t    var C_enc = C.enc = {};\n\n\t    /**\n\t     * Hex encoding strategy.\n\t     */\n\t    var Hex = C_enc.Hex = {\n\t        /**\n\t         * Converts a word array to a hex string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The hex string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var hexString = CryptoJS.enc.Hex.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var hexChars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                hexChars.push((bite >>> 4).toString(16));\n\t                hexChars.push((bite & 0x0f).toString(16));\n\t            }\n\n\t            return hexChars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a hex string to a word array.\n\t         *\n\t         * @param {string} hexStr The hex string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Hex.parse(hexString);\n\t         */\n\t        parse: function (hexStr) {\n\t            // Shortcut\n\t            var hexStrLength = hexStr.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < hexStrLength; i += 2) {\n\t                words[i >>> 3] |= parseInt(hexStr.substr(i, 2), 16) << (24 - (i % 8) * 4);\n\t            }\n\n\t            return new WordArray.init(words, hexStrLength / 2);\n\t        }\n\t    };\n\n\t    /**\n\t     * Latin1 encoding strategy.\n\t     */\n\t    var Latin1 = C_enc.Latin1 = {\n\t        /**\n\t         * Converts a word array to a Latin1 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Latin1 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var latin1String = CryptoJS.enc.Latin1.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var latin1Chars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                latin1Chars.push(String.fromCharCode(bite));\n\t            }\n\n\t            return latin1Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Latin1 string to a word array.\n\t         *\n\t         * @param {string} latin1Str The Latin1 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Latin1.parse(latin1String);\n\t         */\n\t        parse: function (latin1Str) {\n\t            // Shortcut\n\t            var latin1StrLength = latin1Str.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < latin1StrLength; i++) {\n\t                words[i >>> 2] |= (latin1Str.charCodeAt(i) & 0xff) << (24 - (i % 4) * 8);\n\t            }\n\n\t            return new WordArray.init(words, latin1StrLength);\n\t        }\n\t    };\n\n\t    /**\n\t     * UTF-8 encoding strategy.\n\t     */\n\t    var Utf8 = C_enc.Utf8 = {\n\t        /**\n\t         * Converts a word array to a UTF-8 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The UTF-8 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var utf8String = CryptoJS.enc.Utf8.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            try {\n\t                return decodeURIComponent(escape(Latin1.stringify(wordArray)));\n\t            } catch (e) {\n\t                throw new Error('Malformed UTF-8 data');\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts a UTF-8 string to a word array.\n\t         *\n\t         * @param {string} utf8Str The UTF-8 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Utf8.parse(utf8String);\n\t         */\n\t        parse: function (utf8Str) {\n\t            return Latin1.parse(unescape(encodeURIComponent(utf8Str)));\n\t        }\n\t    };\n\n\t    /**\n\t     * Abstract buffered block algorithm template.\n\t     *\n\t     * The property blockSize must be implemented in a concrete subtype.\n\t     *\n\t     * @property {number} _minBufferSize The number of blocks that should be kept unprocessed in the buffer. Default: 0\n\t     */\n\t    var BufferedBlockAlgorithm = C_lib.BufferedBlockAlgorithm = Base.extend({\n\t        /**\n\t         * Resets this block algorithm's data buffer to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm.reset();\n\t         */\n\t        reset: function () {\n\t            // Initial values\n\t            this._data = new WordArray.init();\n\t            this._nDataBytes = 0;\n\t        },\n\n\t        /**\n\t         * Adds new data to this block algorithm's buffer.\n\t         *\n\t         * @param {WordArray|string} data The data to append. Strings are converted to a WordArray using UTF-8.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm._append('data');\n\t         *     bufferedBlockAlgorithm._append(wordArray);\n\t         */\n\t        _append: function (data) {\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof data == 'string') {\n\t                data = Utf8.parse(data);\n\t            }\n\n\t            // Append\n\t            this._data.concat(data);\n\t            this._nDataBytes += data.sigBytes;\n\t        },\n\n\t        /**\n\t         * Processes available data blocks.\n\t         *\n\t         * This method invokes _doProcessBlock(offset), which must be implemented by a concrete subtype.\n\t         *\n\t         * @param {boolean} doFlush Whether all blocks and partial blocks should be processed.\n\t         *\n\t         * @return {WordArray} The processed data.\n\t         *\n\t         * @example\n\t         *\n\t         *     var processedData = bufferedBlockAlgorithm._process();\n\t         *     var processedData = bufferedBlockAlgorithm._process(!!'flush');\n\t         */\n\t        _process: function (doFlush) {\n\t            var processedWords;\n\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\t            var dataSigBytes = data.sigBytes;\n\t            var blockSize = this.blockSize;\n\t            var blockSizeBytes = blockSize * 4;\n\n\t            // Count blocks ready\n\t            var nBlocksReady = dataSigBytes / blockSizeBytes;\n\t            if (doFlush) {\n\t                // Round up to include partial blocks\n\t                nBlocksReady = Math.ceil(nBlocksReady);\n\t            } else {\n\t                // Round down to include only full blocks,\n\t                // less the number of blocks that must remain in the buffer\n\t                nBlocksReady = Math.max((nBlocksReady | 0) - this._minBufferSize, 0);\n\t            }\n\n\t            // Count words ready\n\t            var nWordsReady = nBlocksReady * blockSize;\n\n\t            // Count bytes ready\n\t            var nBytesReady = Math.min(nWordsReady * 4, dataSigBytes);\n\n\t            // Process blocks\n\t            if (nWordsReady) {\n\t                for (var offset = 0; offset < nWordsReady; offset += blockSize) {\n\t                    // Perform concrete-algorithm logic\n\t                    this._doProcessBlock(dataWords, offset);\n\t                }\n\n\t                // Remove processed words\n\t                processedWords = dataWords.splice(0, nWordsReady);\n\t                data.sigBytes -= nBytesReady;\n\t            }\n\n\t            // Return processed words\n\t            return new WordArray.init(processedWords, nBytesReady);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this object.\n\t         *\n\t         * @return {Object} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = bufferedBlockAlgorithm.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone._data = this._data.clone();\n\n\t            return clone;\n\t        },\n\n\t        _minBufferSize: 0\n\t    });\n\n\t    /**\n\t     * Abstract hasher template.\n\t     *\n\t     * @property {number} blockSize The number of 32-bit words this hasher operates on. Default: 16 (512 bits)\n\t     */\n\t    var Hasher = C_lib.Hasher = BufferedBlockAlgorithm.extend({\n\t        /**\n\t         * Configuration options.\n\t         */\n\t        cfg: Base.extend(),\n\n\t        /**\n\t         * Initializes a newly created hasher.\n\t         *\n\t         * @param {Object} cfg (Optional) The configuration options to use for this hash computation.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hasher = CryptoJS.algo.SHA256.create();\n\t         */\n\t        init: function (cfg) {\n\t            // Apply config defaults\n\t            this.cfg = this.cfg.extend(cfg);\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this hasher to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Reset data buffer\n\t            BufferedBlockAlgorithm.reset.call(this);\n\n\t            // Perform concrete-hasher logic\n\t            this._doReset();\n\t        },\n\n\t        /**\n\t         * Updates this hasher with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {Hasher} This hasher.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.update('message');\n\t         *     hasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            // Append\n\t            this._append(messageUpdate);\n\n\t            // Update the hash\n\t            this._process();\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the hash computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The hash.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hash = hasher.finalize();\n\t         *     var hash = hasher.finalize('message');\n\t         *     var hash = hasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Final message update\n\t            if (messageUpdate) {\n\t                this._append(messageUpdate);\n\t            }\n\n\t            // Perform concrete-hasher logic\n\t            var hash = this._doFinalize();\n\n\t            return hash;\n\t        },\n\n\t        blockSize: 512/32,\n\n\t        /**\n\t         * Creates a shortcut function to a hasher's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to create a helper for.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var SHA256 = CryptoJS.lib.Hasher._createHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHelper: function (hasher) {\n\t            return function (message, cfg) {\n\t                return new hasher.init(cfg).finalize(message);\n\t            };\n\t        },\n\n\t        /**\n\t         * Creates a shortcut function to the HMAC's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to use in this HMAC helper.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var HmacSHA256 = CryptoJS.lib.Hasher._createHmacHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHmacHelper: function (hasher) {\n\t            return function (message, key) {\n\t                return new C_algo.HMAC.init(hasher, key).finalize(message);\n\t            };\n\t        }\n\t    });\n\n\t    /**\n\t     * Algorithm namespace.\n\t     */\n\t    var C_algo = C.algo = {};\n\n\t    return C;\n\t}(Math));\n\n\n\treturn CryptoJS;\n\n}));","\"use strict\";",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function (Math) {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var Hasher = C_lib.Hasher;\n\t    var C_algo = C.algo;\n\n\t    // Initialization and round constants tables\n\t    var H = [];\n\t    var K = [];\n\n\t    // Compute constants\n\t    (function () {\n\t        function isPrime(n) {\n\t            var sqrtN = Math.sqrt(n);\n\t            for (var factor = 2; factor <= sqrtN; factor++) {\n\t                if (!(n % factor)) {\n\t                    return false;\n\t                }\n\t            }\n\n\t            return true;\n\t        }\n\n\t        function getFractionalBits(n) {\n\t            return ((n - (n | 0)) * 0x100000000) | 0;\n\t        }\n\n\t        var n = 2;\n\t        var nPrime = 0;\n\t        while (nPrime < 64) {\n\t            if (isPrime(n)) {\n\t                if (nPrime < 8) {\n\t                    H[nPrime] = getFractionalBits(Math.pow(n, 1 / 2));\n\t                }\n\t                K[nPrime] = getFractionalBits(Math.pow(n, 1 / 3));\n\n\t                nPrime++;\n\t            }\n\n\t            n++;\n\t        }\n\t    }());\n\n\t    // Reusable object\n\t    var W = [];\n\n\t    /**\n\t     * SHA-256 hash algorithm.\n\t     */\n\t    var SHA256 = C_algo.SHA256 = Hasher.extend({\n\t        _doReset: function () {\n\t            this._hash = new WordArray.init(H.slice(0));\n\t        },\n\n\t        _doProcessBlock: function (M, offset) {\n\t            // Shortcut\n\t            var H = this._hash.words;\n\n\t            // Working variables\n\t            var a = H[0];\n\t            var b = H[1];\n\t            var c = H[2];\n\t            var d = H[3];\n\t            var e = H[4];\n\t            var f = H[5];\n\t            var g = H[6];\n\t            var h = H[7];\n\n\t            // Computation\n\t            for (var i = 0; i < 64; i++) {\n\t                if (i < 16) {\n\t                    W[i] = M[offset + i] | 0;\n\t                } else {\n\t                    var gamma0x = W[i - 15];\n\t                    var gamma0  = ((gamma0x << 25) | (gamma0x >>> 7))  ^\n\t                                  ((gamma0x << 14) | (gamma0x >>> 18)) ^\n\t                                   (gamma0x >>> 3);\n\n\t                    var gamma1x = W[i - 2];\n\t                    var gamma1  = ((gamma1x << 15) | (gamma1x >>> 17)) ^\n\t                                  ((gamma1x << 13) | (gamma1x >>> 19)) ^\n\t                                   (gamma1x >>> 10);\n\n\t                    W[i] = gamma0 + W[i - 7] + gamma1 + W[i - 16];\n\t                }\n\n\t                var ch  = (e & f) ^ (~e & g);\n\t                var maj = (a & b) ^ (a & c) ^ (b & c);\n\n\t                var sigma0 = ((a << 30) | (a >>> 2)) ^ ((a << 19) | (a >>> 13)) ^ ((a << 10) | (a >>> 22));\n\t                var sigma1 = ((e << 26) | (e >>> 6)) ^ ((e << 21) | (e >>> 11)) ^ ((e << 7)  | (e >>> 25));\n\n\t                var t1 = h + sigma1 + ch + K[i] + W[i];\n\t                var t2 = sigma0 + maj;\n\n\t                h = g;\n\t                g = f;\n\t                f = e;\n\t                e = (d + t1) | 0;\n\t                d = c;\n\t                c = b;\n\t                b = a;\n\t                a = (t1 + t2) | 0;\n\t            }\n\n\t            // Intermediate hash value\n\t            H[0] = (H[0] + a) | 0;\n\t            H[1] = (H[1] + b) | 0;\n\t            H[2] = (H[2] + c) | 0;\n\t            H[3] = (H[3] + d) | 0;\n\t            H[4] = (H[4] + e) | 0;\n\t            H[5] = (H[5] + f) | 0;\n\t            H[6] = (H[6] + g) | 0;\n\t            H[7] = (H[7] + h) | 0;\n\t        },\n\n\t        _doFinalize: function () {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\n\t            var nBitsTotal = this._nDataBytes * 8;\n\t            var nBitsLeft = data.sigBytes * 8;\n\n\t            // Add padding\n\t            dataWords[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 14] = Math.floor(nBitsTotal / 0x100000000);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 15] = nBitsTotal;\n\t            data.sigBytes = dataWords.length * 4;\n\n\t            // Hash final blocks\n\t            this._process();\n\n\t            // Return final computed hash\n\t            return this._hash;\n\t        },\n\n\t        clone: function () {\n\t            var clone = Hasher.clone.call(this);\n\t            clone._hash = this._hash.clone();\n\n\t            return clone;\n\t        }\n\t    });\n\n\t    /**\n\t     * Shortcut function to the hasher's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     *\n\t     * @return {WordArray} The hash.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hash = CryptoJS.SHA256('message');\n\t     *     var hash = CryptoJS.SHA256(wordArray);\n\t     */\n\t    C.SHA256 = Hasher._createHelper(SHA256);\n\n\t    /**\n\t     * Shortcut function to the HMAC's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     * @param {WordArray|string} key The secret key.\n\t     *\n\t     * @return {WordArray} The HMAC.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hmac = CryptoJS.HmacSHA256(message, key);\n\t     */\n\t    C.HmacSHA256 = Hasher._createHmacHelper(SHA256);\n\t}(Math));\n\n\n\treturn CryptoJS.SHA256;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var C_enc = C.enc;\n\n\t    /**\n\t     * Base64 encoding strategy.\n\t     */\n\t    var Base64 = C_enc.Base64 = {\n\t        /**\n\t         * Converts a word array to a Base64 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Base64 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var base64String = CryptoJS.enc.Base64.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\t            var map = this._map;\n\n\t            // Clamp excess bits\n\t            wordArray.clamp();\n\n\t            // Convert\n\t            var base64Chars = [];\n\t            for (var i = 0; i < sigBytes; i += 3) {\n\t                var byte1 = (words[i >>> 2]       >>> (24 - (i % 4) * 8))       & 0xff;\n\t                var byte2 = (words[(i + 1) >>> 2] >>> (24 - ((i + 1) % 4) * 8)) & 0xff;\n\t                var byte3 = (words[(i + 2) >>> 2] >>> (24 - ((i + 2) % 4) * 8)) & 0xff;\n\n\t                var triplet = (byte1 << 16) | (byte2 << 8) | byte3;\n\n\t                for (var j = 0; (j < 4) && (i + j * 0.75 < sigBytes); j++) {\n\t                    base64Chars.push(map.charAt((triplet >>> (6 * (3 - j))) & 0x3f));\n\t                }\n\t            }\n\n\t            // Add padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                while (base64Chars.length % 4) {\n\t                    base64Chars.push(paddingChar);\n\t                }\n\t            }\n\n\t            return base64Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Base64 string to a word array.\n\t         *\n\t         * @param {string} base64Str The Base64 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Base64.parse(base64String);\n\t         */\n\t        parse: function (base64Str) {\n\t            // Shortcuts\n\t            var base64StrLength = base64Str.length;\n\t            var map = this._map;\n\t            var reverseMap = this._reverseMap;\n\n\t            if (!reverseMap) {\n\t                    reverseMap = this._reverseMap = [];\n\t                    for (var j = 0; j < map.length; j++) {\n\t                        reverseMap[map.charCodeAt(j)] = j;\n\t                    }\n\t            }\n\n\t            // Ignore padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                var paddingIndex = base64Str.indexOf(paddingChar);\n\t                if (paddingIndex !== -1) {\n\t                    base64StrLength = paddingIndex;\n\t                }\n\t            }\n\n\t            // Convert\n\t            return parseLoop(base64Str, base64StrLength, reverseMap);\n\n\t        },\n\n\t        _map: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='\n\t    };\n\n\t    function parseLoop(base64Str, base64StrLength, reverseMap) {\n\t      var words = [];\n\t      var nBytes = 0;\n\t      for (var i = 0; i < base64StrLength; i++) {\n\t          if (i % 4) {\n\t              var bits1 = reverseMap[base64Str.charCodeAt(i - 1)] << ((i % 4) * 2);\n\t              var bits2 = reverseMap[base64Str.charCodeAt(i)] >>> (6 - (i % 4) * 2);\n\t              var bitsCombined = bits1 | bits2;\n\t              words[nBytes >>> 2] |= bitsCombined << (24 - (nBytes % 4) * 8);\n\t              nBytes++;\n\t          }\n\t      }\n\t      return WordArray.create(words, nBytes);\n\t    }\n\t}());\n\n\n\treturn CryptoJS.enc.Base64;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\treturn CryptoJS.enc.Utf8;\n\n}));","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\n/**\n * Native interface\n *\n * @public\n */\nexport interface ILogger {\n    debug(...args: unknown[]): void;\n    info(...args: unknown[]): void;\n    warn(...args: unknown[]): void;\n    error(...args: unknown[]): void;\n}\n\nconst nopLogger: ILogger = {\n    debug: () => undefined,\n    info: () => undefined,\n    warn: () => undefined,\n    error: () => undefined,\n};\n\nconst NONE = 0;\nconst ERROR = 1;\nconst WARN = 2;\nconst INFO = 3;\nconst DEBUG = 4;\n\n/**\n * Log manager\n *\n * @public\n */\nexport class Log {\n    public static get NONE(): number {return NONE;}\n    public static get ERROR(): number {return ERROR;}\n    public static get WARN(): number {return WARN;}\n    public static get INFO(): number {return INFO;}\n    public static get DEBUG(): number {return DEBUG;}\n\n    private static _level: number;\n    private static _logger: ILogger;\n\n    public static reset(): void {\n        this._level = INFO;\n        this._logger = nopLogger;\n    }\n\n    public static get level(): number {\n        return this._level;\n    }\n    public static set level(value: number) {\n        if (NONE > value || value > DEBUG) {\n            throw new Error(\"Invalid log level\");\n        }\n\n        this._level = value;\n    }\n\n    // native logger\n    public static get logger(): ILogger {\n        return this._logger;\n    }\n    public static set logger(value: ILogger) {\n        this._logger = value;\n    }\n}\n\n/**\n * @public\n * Internal logger instance\n */\nexport class Logger {\n    private readonly _name: string;\n    public constructor(name: string) {\n        this._name = name;\n    }\n\n    public debug(...args: unknown[]): void {\n        Logger.debug(this._name, ...args);\n    }\n    public info(...args: unknown[]): void {\n        Logger.info(this._name, ...args);\n    }\n    public warn(...args: unknown[]): void {\n        Logger.warn(this._name, ...args);\n    }\n    public error(...args: unknown[]): void {\n        Logger.error(this._name, ...args);\n    }\n\n    // helpers for static class methods\n    public static debug(name: string, ...args: unknown[]): void {\n        if (Log.level >= DEBUG) {\n            Log.logger.debug(`[${name}]`, ...args);\n        }\n    }\n    public static info(name: string, ...args: unknown[]): void {\n        if (Log.level >= INFO) {\n            Log.logger.info(`[${name}]`, ...args);\n        }\n    }\n    public static warn(name: string, ...args: unknown[]): void {\n        if (Log.level >= WARN) {\n            Log.logger.warn(`[${name}]`, ...args);\n        }\n    }\n    public static error(name: string, ...args: unknown[]): void {\n        if (Log.level >= ERROR) {\n            Log.logger.error(`[${name}]`, ...args);\n        }\n    }\n}\n\nLog.reset();\n","exports.interopDefault = function(a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function(a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function(source, dest) {\n  Object.keys(source).forEach(function(key) {\n    if (key === 'default' || key === '__esModule') {\n      return;\n    }\n\n    // Skip duplicate re-exports when they have the same value.\n    if (key in dest && dest[key] === source[key]) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function() {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function(dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"./Log\";\n\n/**\n * @internal\n */\nexport type Callback<EventType extends unknown[]> = (...ev: EventType) => (Promise<void> | void);\n\n/**\n * @internal\n */\nexport class Event<EventType extends unknown[]> {\n    protected readonly _logger = new Logger(`Event(${this._name})`);\n\n    private _callbacks: Array<Callback<EventType>> = [];\n\n    public constructor(protected readonly _name: string) {}\n\n    public addHandler(cb: Callback<EventType>): () => void {\n        this._callbacks.push(cb);\n        return () => this.removeHandler(cb);\n    }\n\n    public removeHandler(cb: Callback<EventType>): void {\n        const idx = this._callbacks.lastIndexOf(cb);\n        if (idx >= 0) {\n            this._callbacks.splice(idx, 1);\n        }\n    }\n\n    public raise(...ev: EventType): void {\n        this._logger.debug(\"Raising event: \" + this._name);\n        for (const cb of this._callbacks) {\n            void cb(...ev);\n        }\n    }\n}\n","import jwt_decode from \"jwt-decode\";\n\nimport { Logger } from \"./Log\";\n\n/**\n * @internal\n */\nexport interface JwtPayload {\n    iss?: string;\n    aud?: string | string[];\n    azp?: string;\n    iat?: number;\n    nbf?: number;\n    exp?: number;\n    sub?: string;\n    auth_time?: number;\n\n    [claim: string]: unknown;\n}\n\n/**\n * @internal\n */\nexport class JwtUtils {\n\n    // IMPORTANT: doesn't validate the token\n    public static decode(token: string): JwtPayload {\n        try {\n            const payload = jwt_decode<JwtPayload>(token);\n            return payload;\n        }\n        catch (err) {\n            Logger.error(\"JwtUtils\", err);\n            throw err;\n        }\n    }\n}\n","function e(e){this.message=e}e.prototype=new Error,e.prototype.name=\"InvalidCharacterError\";var r=\"undefined\"!=typeof window&&window.atob&&window.atob.bind(window)||function(r){var t=String(r).replace(/=+$/,\"\");if(t.length%4==1)throw new e(\"'atob' failed: The string to be decoded is not correctly encoded.\");for(var n,o,a=0,i=0,c=\"\";o=t.charAt(i++);~o&&(n=a%4?64*n+o:o,a++%4)?c+=String.fromCharCode(255&n>>(-2*a&6)):0)o=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\".indexOf(o);return c};function t(e){var t=e.replace(/-/g,\"+\").replace(/_/g,\"/\");switch(t.length%4){case 0:break;case 2:t+=\"==\";break;case 3:t+=\"=\";break;default:throw\"Illegal base64url string!\"}try{return function(e){return decodeURIComponent(r(e).replace(/(.)/g,(function(e,r){var t=r.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t=\"0\"+t),\"%\"+t})))}(t)}catch(e){return r(t)}}function n(e){this.message=e}function o(e,r){if(\"string\"!=typeof e)throw new n(\"Invalid token specified\");var o=!0===(r=r||{}).header?0:1;try{return JSON.parse(t(e.split(\".\")[o]))}catch(e){throw new n(\"Invalid token specified: \"+e.message)}}n.prototype=new Error,n.prototype.name=\"InvalidTokenError\";export default o;export{n as InvalidTokenError};\n","/**\n * The code was extracted from:\n * https://github.com/davidchambers/Base64.js\n */\n\nvar chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\nfunction InvalidCharacterError(message) {\n    this.message = message;\n}\n\nInvalidCharacterError.prototype = new Error();\nInvalidCharacterError.prototype.name = \"InvalidCharacterError\";\n\nfunction polyfill(input) {\n    var str = String(input).replace(/=+$/, \"\");\n    if (str.length % 4 == 1) {\n        throw new InvalidCharacterError(\n            \"'atob' failed: The string to be decoded is not correctly encoded.\"\n        );\n    }\n    for (\n        // initialize result and counters\n        var bc = 0, bs, buffer, idx = 0, output = \"\";\n        // get next character\n        (buffer = str.charAt(idx++));\n        // character found in table? initialize bit storage and add its ascii value;\n        ~buffer &&\n        ((bs = bc % 4 ? bs * 64 + buffer : buffer),\n            // and if not first of each 4 characters,\n            // convert the first 8 bits to one ascii character\n            bc++ % 4) ?\n        (output += String.fromCharCode(255 & (bs >> ((-2 * bc) & 6)))) :\n        0\n    ) {\n        // try to find character in table (0-63, not found => -1)\n        buffer = chars.indexOf(buffer);\n    }\n    return output;\n}\n\nexport default (typeof window !== \"undefined\" &&\n    window.atob &&\n    window.atob.bind(window)) ||\npolyfill;","import atob from \"./atob\";\n\nfunction b64DecodeUnicode(str) {\n    return decodeURIComponent(\n        atob(str).replace(/(.)/g, function(m, p) {\n            var code = p.charCodeAt(0).toString(16).toUpperCase();\n            if (code.length < 2) {\n                code = \"0\" + code;\n            }\n            return \"%\" + code;\n        })\n    );\n}\n\nexport default function(str) {\n    var output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch (output.length % 4) {\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw \"Illegal base64url string!\";\n    }\n\n    try {\n        return b64DecodeUnicode(output);\n    } catch (err) {\n        return atob(output);\n    }\n}","\"use strict\";\n\nimport base64_url_decode from \"./base64_url_decode\";\n\nexport function InvalidTokenError(message) {\n    this.message = message;\n}\n\nInvalidTokenError.prototype = new Error();\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\n\nexport default function(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified\");\n    }\n\n    options = options || {};\n    var pos = options.header === true ? 0 : 1;\n    try {\n        return JSON.parse(base64_url_decode(token.split(\".\")[pos]));\n    } catch (e) {\n        throw new InvalidTokenError(\"Invalid token specified: \" + e.message);\n    }\n}","/**\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Window/open#window_features\n *\n * @public\n */\nexport interface PopupWindowFeatures {\n    left?: number;\n    top?: number;\n    width?: number;\n    height?: number;\n    menubar?: boolean | string;\n    toolbar?: boolean | string;\n    location?: boolean | string;\n    status?: boolean | string;\n    resizable?: boolean | string;\n    scrollbars?: boolean | string;\n\n    [k: string]: boolean | string | number | undefined;\n}\n\nexport class PopupUtils {\n    /**\n     * Popuplates a map of window features with a placement centered in front of\n     * the current window. If no explicit width is given, a default value is\n     * binned into [800, 720, 600, 480, 360] based on the current window's width.\n     */\n    static center({ ...features }: PopupWindowFeatures): PopupWindowFeatures {\n        if (features.width == null)\n            features.width = [800, 720, 600, 480].find(width => width <= window.outerWidth / 1.618) ?? 360;\n        features.left ??= Math.max(0, Math.round(window.screenX + (window.outerWidth - features.width) / 2));\n        if (features.height != null)\n            features.top ??= Math.max(0, Math.round(window.screenY + (window.outerHeight - features.height) / 2));\n        return features;\n    }\n\n    static serialize(features: PopupWindowFeatures): string {\n        return Object.entries(features)\n            .filter(([, value]) => value != null)\n            .map(([key, value]) => `${key}=${typeof value !== \"boolean\" ? value as string : value ? \"yes\" : \"no\"}`)\n            .join(\",\");\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Event } from \"./Event\";\n\n/**\n * @internal\n */\nexport class Timer extends Event<[void]> {\n    private _timerHandle: ReturnType<typeof setInterval> | null = null;\n    private _expiration = 0;\n\n    // get the time\n    public static getEpochTime(): number {\n        return Math.floor(Date.now() / 1000);\n    }\n\n    public init(durationInSeconds: number): void {\n        durationInSeconds = Math.max(Math.floor(durationInSeconds), 1);\n        const expiration = Timer.getEpochTime() + durationInSeconds;\n        if (this.expiration === expiration && this._timerHandle) {\n            // no need to reinitialize to same expiration, so bail out\n            this._logger.debug(\"init timer \" + this._name + \" skipping initialization since already initialized for expiration:\", this.expiration);\n            return;\n        }\n\n        this.cancel();\n\n        this._logger.debug(\"init timer \" + this._name + \" for duration:\", durationInSeconds);\n        this._expiration = expiration;\n\n        // we're using a fairly short timer and then checking the expiration in the\n        // callback to handle scenarios where the browser device sleeps, and then\n        // the timers end up getting delayed.\n        const timerDurationInSeconds = Math.min(durationInSeconds, 5);\n        this._timerHandle = setInterval(this._callback, timerDurationInSeconds * 1000);\n    }\n\n    public get expiration(): number {\n        return this._expiration;\n    }\n\n    public cancel(): void {\n        if (this._timerHandle) {\n            this._logger.debug(\"cancel: \", this._name);\n            clearInterval(this._timerHandle);\n            this._timerHandle = null;\n        }\n    }\n\n    protected _callback = (): void => {\n        const diff = this._expiration - Timer.getEpochTime();\n        this._logger.debug(\"_callback: \" + this._name + \" timer expires in:\", diff);\n\n        if (this._expiration <= Timer.getEpochTime()) {\n            this.cancel();\n            super.raise();\n        }\n    };\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\n/**\n * @internal\n */\nexport class UrlUtils {\n    public static readParams(url: string, responseMode: \"query\" | \"fragment\" = \"query\"): URLSearchParams {\n        const parsedUrl = new URL(url);\n        const params = parsedUrl[responseMode === \"fragment\" ? \"hash\" : \"search\"];\n        return new URLSearchParams(params.slice(1));\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger, Timer } from \"./utils\";\nimport type { User } from \"./User\";\n\n/**\n * @public\n */\nexport type AccessTokenCallback = (...ev: unknown[]) => void;\n\n/**\n * @public\n */\nexport class AccessTokenEvents {\n    protected readonly _logger = new Logger(\"AccessTokenEvents\");\n\n    private readonly _expiringTimer = new Timer(\"Access token expiring\");\n    private readonly _expiredTimer = new Timer(\"Access token expired\");\n    private readonly _expiringNotificationTimeInSeconds: number;\n\n    public constructor(args: { expiringNotificationTimeInSeconds: number }) {\n        this._expiringNotificationTimeInSeconds = args.expiringNotificationTimeInSeconds;\n    }\n\n    public load(container: User): void {\n        // only register events if there's an access token and it has an expiration\n        if (container.access_token && container.expires_in !== undefined) {\n            const duration = container.expires_in;\n            this._logger.debug(\"load: access token present, remaining duration:\", duration);\n\n            if (duration > 0) {\n                // only register expiring if we still have time\n                let expiring = duration - this._expiringNotificationTimeInSeconds;\n                if (expiring <= 0) {\n                    expiring = 1;\n                }\n\n                this._logger.debug(\"load: registering expiring timer in:\", expiring);\n                this._expiringTimer.init(expiring);\n            }\n            else {\n                this._logger.debug(\"load: canceling existing expiring timer because we're past expiration.\");\n                this._expiringTimer.cancel();\n            }\n\n            // if it's negative, it will still fire\n            const expired = duration + 1;\n            this._logger.debug(\"load: registering expired timer in:\", expired);\n            this._expiredTimer.init(expired);\n        }\n        else {\n            this._expiringTimer.cancel();\n            this._expiredTimer.cancel();\n        }\n    }\n\n    public unload(): void {\n        this._logger.debug(\"unload: canceling existing access token timers\");\n        this._expiringTimer.cancel();\n        this._expiredTimer.cancel();\n    }\n\n    /**\n     * Add callback: Raised prior to the access token expiring.\n     */\n    public addAccessTokenExpiring(cb: AccessTokenCallback): () => void {\n        return this._expiringTimer.addHandler(cb);\n    }\n    /**\n     * Remove callback: Raised prior to the access token expiring.\n     */\n    public removeAccessTokenExpiring(cb: AccessTokenCallback): void {\n        this._expiringTimer.removeHandler(cb);\n    }\n\n    /**\n     * Add callback: Raised after the access token has expired.\n     */\n    public addAccessTokenExpired(cb: AccessTokenCallback): () => void {\n        return this._expiredTimer.addHandler(cb);\n    }\n    /**\n     * Remove callback: Raised after the access token has expired.\n     */\n    public removeAccessTokenExpired(cb: AccessTokenCallback): void {\n        this._expiredTimer.removeHandler(cb);\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"./utils\";\n\n/**\n * @internal\n */\nexport class CheckSessionIFrame {\n    private readonly _logger = new Logger(\"CheckSessionIFrame\");\n    private _frame_origin: string;\n    private _frame: HTMLIFrameElement;\n    private _timer: ReturnType<typeof setInterval> | null = null;\n    private _session_state: string | null = null;\n\n    public constructor(\n        private _callback: () => Promise<void>,\n        private _client_id: string,\n        url: string,\n        private _intervalInSeconds: number,\n        private _stopOnError: boolean,\n    ) {\n        const idx = url.indexOf(\"/\", url.indexOf(\"//\") + 2);\n        this._frame_origin = url.substr(0, idx);\n\n        this._frame = window.document.createElement(\"iframe\");\n\n        // shotgun approach\n        this._frame.style.visibility = \"hidden\";\n        this._frame.style.position = \"fixed\";\n        this._frame.style.left = \"-1000px\";\n        this._frame.style.top = \"0\";\n        this._frame.width = \"0\";\n        this._frame.height = \"0\";\n        this._frame.src = url;\n    }\n\n    public load(): Promise<void> {\n        return new Promise<void>((resolve) => {\n            this._frame.onload = () => {\n                resolve();\n            };\n\n            window.document.body.appendChild(this._frame);\n            window.addEventListener(\"message\", this._message, false);\n        });\n    }\n\n    private _message = (e: MessageEvent<string>): void => {\n        if (e.origin === this._frame_origin &&\n            e.source === this._frame.contentWindow\n        ) {\n            if (e.data === \"error\") {\n                this._logger.error(\"error message from check session op iframe\");\n                if (this._stopOnError) {\n                    this.stop();\n                }\n            }\n            else if (e.data === \"changed\") {\n                this._logger.debug(\"changed message from check session op iframe\");\n                this.stop();\n                void this._callback();\n            }\n            else {\n                this._logger.debug(e.data + \" message from check session op iframe\");\n            }\n        }\n    };\n\n    public start(session_state: string): void {\n        if (this._session_state === session_state) {\n            return;\n        }\n\n        this._logger.debug(\"start\");\n\n        this.stop();\n\n        this._session_state = session_state;\n\n        const send = () => {\n            if (!this._frame.contentWindow || !this._session_state) {\n                return;\n            }\n\n            this._frame.contentWindow.postMessage(this._client_id + \" \" + this._session_state, this._frame_origin);\n        };\n\n        // trigger now\n        send();\n\n        // and setup timer\n        this._timer = setInterval(send, this._intervalInSeconds * 1000);\n    }\n\n    public stop(): void {\n        this._session_state = null;\n\n        if (this._timer) {\n            this._logger.debug(\"stop\");\n\n            clearInterval(this._timer);\n            this._timer = null;\n        }\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"./utils\";\n\n/**\n * Error class thrown in case of an authentication error.\n *\n * See https://openid.net/specs/openid-connect-core-1_0.html#AuthError\n *\n * @public\n */\nexport class ErrorResponse extends Error {\n    /** Marker to detect class: \"ErrorResponse\" */\n    public readonly name: string = \"ErrorResponse\";\n\n    /** An error code string that can be used to classify the types of errors that occur and to respond to errors. */\n    public readonly error: string | null;\n    /** additional information that can help a developer identify the cause of the error.*/\n    public readonly error_description: string | null;\n    /**\n     * URI identifying a human-readable web page with information about the error, used to provide the client\n       developer with additional information about the error.\n    */\n    public readonly error_uri: string | null;\n\n    /** custom state data set during the initial signin request */\n    public state?: unknown;\n\n    public readonly session_state: string | null;\n\n    public constructor(\n        args: {\n            error?: string | null; error_description?: string | null; error_uri?: string | null;\n            userState?: unknown; session_state?: string | null;\n        },\n        /** The x-www-form-urlencoded request body sent to the authority server */\n        public readonly form?: URLSearchParams,\n    ) {\n        super(args.error_description || args.error || \"\");\n\n        if (!args.error) {\n            Logger.error(\"ErrorResponse\", \"No error passed\");\n            throw new Error(\"No error passed\");\n        }\n\n        this.error = args.error;\n        this.error_description = args.error_description ?? null;\n        this.error_uri = args.error_uri ?? null;\n\n        this.state = args.userState;\n        this.session_state = args.session_state ?? null;\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"./utils\";\n\n/**\n * @public\n */\nexport class InMemoryWebStorage implements Storage {\n    private readonly _logger = new Logger(\"InMemoryWebStorage\");\n    private _data: Record<string, string> = {};\n\n    public clear(): void {\n        this._logger.debug(\"clear\");\n        this._data = {};\n    }\n\n    public getItem(key: string): string {\n        this._logger.debug(\"getItem\", key);\n        return this._data[key];\n    }\n\n    public setItem(key: string, value: string): void {\n        this._logger.debug(\"setItem\", key);\n        this._data[key] = value;\n    }\n\n    public removeItem(key: string): void {\n        this._logger.debug(\"removeItem\", key);\n        delete this._data[key];\n    }\n\n    public get length(): number {\n        return Object.getOwnPropertyNames(this._data).length;\n    }\n\n    public key(index: number): string {\n        return Object.getOwnPropertyNames(this._data)[index];\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"./utils\";\nimport { JsonService } from \"./JsonService\";\nimport type { OidcClientSettingsStore, SigningKey } from \"./OidcClientSettings\";\nimport type { OidcMetadata } from \"./OidcMetadata\";\n\nconst OidcMetadataUrlPath = \".well-known/openid-configuration\";\n\n/**\n * @public\n */\nexport class MetadataService {\n    private readonly _logger = new Logger(\"MetadataService\");\n    private readonly _jsonService = new JsonService([\"application/jwk-set+json\"]);\n\n    // cache\n    private _metadataUrl: string | null = null;\n    private _signingKeys: SigningKey[] | null = null;\n    private _metadata: Partial<OidcMetadata> | null = null;\n\n    public constructor(private readonly _settings: OidcClientSettingsStore) {\n        if (this._settings.metadataUrl) {\n            this._metadataUrl = this._settings.metadataUrl;\n        } else if (this._settings.authority) {\n            this._metadataUrl = this._settings.authority;\n            if (this._metadataUrl[this._metadataUrl.length - 1] !== \"/\") {\n                this._metadataUrl += \"/\";\n            }\n            this._metadataUrl += OidcMetadataUrlPath;\n        }\n\n        if (this._settings.signingKeys) {\n            this._logger.debug(\"ctor: Using signingKeys from settings\");\n            this._signingKeys = this._settings.signingKeys;\n        }\n\n        if (this._settings.metadata) {\n            this._logger.debug(\"ctor: Using metadata from settings\");\n            this._metadata = this._settings.metadata;\n        }\n    }\n\n    public resetSigningKeys(): void {\n        this._signingKeys = null;\n    }\n\n    public async getMetadata(): Promise<Partial<OidcMetadata>> {\n        if (this._metadata) {\n            this._logger.debug(\"getMetadata: Returning metadata from cache\");\n            return this._metadata;\n        }\n\n        if (!this._metadataUrl) {\n            this._logger.error(\"getMetadata: No authority or metadataUrl configured on settings\");\n            throw new Error(\"No authority or metadataUrl configured on settings\");\n        }\n\n        this._logger.debug(\"getMetadata: getting metadata from\", this._metadataUrl);\n        const metadata = await this._jsonService.getJson(this._metadataUrl);\n\n        this._logger.debug(\"getMetadata: json received\");\n        const seed = this._settings.metadataSeed || {};\n        this._metadata = Object.assign({}, seed, metadata) as Partial<OidcMetadata>;\n        return this._metadata;\n    }\n\n    public getIssuer(): Promise<string> {\n        return this._getMetadataProperty(\"issuer\") as Promise<string>;\n    }\n\n    public getAuthorizationEndpoint(): Promise<string> {\n        return this._getMetadataProperty(\"authorization_endpoint\") as Promise<string>;\n    }\n\n    public getUserInfoEndpoint(): Promise<string> {\n        return this._getMetadataProperty(\"userinfo_endpoint\") as Promise<string>;\n    }\n\n    public getTokenEndpoint(optional: false): Promise<string>;\n    public getTokenEndpoint(optional?: true): Promise<string | undefined>;\n    public getTokenEndpoint(optional = true): Promise<string | undefined> {\n        return this._getMetadataProperty(\"token_endpoint\", optional) as Promise<string | undefined>;\n    }\n\n    public getCheckSessionIframe(): Promise<string | undefined> {\n        return this._getMetadataProperty(\"check_session_iframe\", true) as Promise<string | undefined>;\n    }\n\n    public getEndSessionEndpoint(): Promise<string | undefined> {\n        return this._getMetadataProperty(\"end_session_endpoint\", true) as Promise<string | undefined>;\n    }\n\n    public getRevocationEndpoint(optional: false): Promise<string>;\n    public getRevocationEndpoint(optional?: true): Promise<string | undefined>;\n    public getRevocationEndpoint(optional = true): Promise<string | undefined> {\n        return this._getMetadataProperty(\"revocation_endpoint\", optional) as Promise<string | undefined>;\n    }\n\n    public getKeysEndpoint(optional: false): Promise<string>;\n    public getKeysEndpoint(optional?: true): Promise<string | undefined>;\n    public getKeysEndpoint(optional = true): Promise<string | undefined> {\n        return this._getMetadataProperty(\"jwks_uri\", optional) as Promise<string | undefined>;\n    }\n\n    protected async _getMetadataProperty(name: keyof OidcMetadata, optional=false): Promise<string | boolean | string[] | undefined> {\n        this._logger.debug(\"getMetadataProperty for: \" + name);\n\n        const metadata = await this.getMetadata();\n        this._logger.debug(\"getMetadataProperty: metadata received\");\n\n        if (metadata[name] === undefined) {\n            if (optional === true) {\n                this._logger.warn(\"getMetadataProperty: Metadata does not contain optional property \" + name);\n                return undefined;\n            }\n\n            this._logger.error(\"getMetadataProperty: Metadata does not contain property \" + name);\n            throw new Error(\"Metadata does not contain property \" + name);\n        }\n\n        return metadata[name];\n    }\n\n    public async getSigningKeys(): Promise<SigningKey[] | null> {\n        if (this._signingKeys) {\n            this._logger.debug(\"getSigningKeys: Returning signingKeys from cache\");\n            return this._signingKeys;\n        }\n\n        const jwks_uri = await this.getKeysEndpoint(false);\n        this._logger.debug(\"getSigningKeys: jwks_uri received\", jwks_uri);\n\n        const keySet = await this._jsonService.getJson(jwks_uri);\n        this._logger.debug(\"getSigningKeys: key set received\", keySet);\n\n        if (!Array.isArray(keySet.keys)) {\n            this._logger.error(\"getSigningKeys: Missing keys on keyset\");\n            throw new Error(\"Missing keys on keyset\");\n        }\n\n        this._signingKeys = keySet.keys;\n        return this._signingKeys;\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { ErrorResponse } from \"./ErrorResponse\";\nimport { Logger } from \"./utils\";\n\n/**\n * @internal\n */\nexport type JwtHandler = (text: string) => Promise<Record<string, unknown>>;\n\n/**\n * @internal\n */\nexport class JsonService {\n    private readonly _logger = new Logger(\"JsonService\");\n\n    private _contentTypes: string[] = [];\n\n    public constructor(\n        additionalContentTypes: string[] = [],\n        private _jwtHandler: JwtHandler | null = null,\n    ) {\n        this._contentTypes.push(...additionalContentTypes, \"application/json\");\n        if (_jwtHandler) {\n            this._contentTypes.push(\"application/jwt\");\n        }\n    }\n\n    public async getJson(url: string, token?: string): Promise<Record<string, unknown>> {\n        const headers: HeadersInit = {\n            \"Accept\": this._contentTypes.join(\", \"),\n        };\n        if (token) {\n            this._logger.debug(\"getJson: token passed, setting Authorization header\");\n            headers[\"Authorization\"] = \"Bearer \" + token;\n        }\n\n        let response: Response;\n        try {\n            this._logger.debug(\"getJson, url:\", url);\n            response = await fetch(url, { method: \"GET\", headers });\n        }\n        catch (err) {\n            this._logger.error(\"getJson: network error\");\n            throw new Error(\"Network Error\");\n        }\n\n        this._logger.debug(\"getJson: HTTP response received, status\", response.status);\n        const contentType = response.headers.get(\"Content-Type\");\n        if (contentType && !this._contentTypes.find(item => contentType.startsWith(item))) {\n            throw new Error(`Invalid response Content-Type: ${(contentType ?? \"undefined\")}, from URL: ${url}`);\n        }\n        if (response.ok && this._jwtHandler && contentType?.startsWith(\"application/jwt\")) {\n            return await this._jwtHandler(await response.text());\n        }\n        let json: Record<string, unknown>;\n        try {\n            json = await response.json();\n        }\n        catch (err) {\n            this._logger.error(\"getJson: Error parsing JSON response\", err);\n            if (response.ok) throw err;\n            throw new Error(`${response.statusText} (${response.status})`);\n        }\n        if (!response.ok) {\n            this._logger.error(\"getJson: Error from server:\", json);\n            if (json.error) {\n                throw new ErrorResponse(json);\n            }\n            throw new Error(`${response.statusText} (${response.status}): ${JSON.stringify(json)}`);\n        }\n        return json;\n    }\n\n    public async postForm(url: string, body: URLSearchParams, basicAuth?: string): Promise<Record<string, unknown>> {\n        const headers: HeadersInit = {\n            \"Accept\": this._contentTypes.join(\", \"),\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\n        };\n        if (basicAuth !== undefined) {\n            headers[\"Authorization\"] = \"Basic \" + basicAuth;\n        }\n\n        let response: Response;\n        try {\n            this._logger.debug(\"postForm, url:\", url);\n            response = await fetch(url, { method: \"POST\", headers, body });\n        }\n        catch (err) {\n            this._logger.error(\"postForm: network error\");\n            throw new Error(\"Network Error\");\n        }\n\n        this._logger.debug(\"postForm: HTTP response received, status\", response.status);\n        const contentType = response.headers.get(\"Content-Type\");\n        if (contentType && !this._contentTypes.find(item => contentType.startsWith(item))) {\n            throw new Error(`Invalid response Content-Type: ${(contentType ?? \"undefined\")}, from URL: ${url}`);\n        }\n\n        const responseText = await response.text();\n\n        let json: Record<string, unknown> = {};\n        if (responseText) {\n            try {\n                json = JSON.parse(responseText);\n            }\n            catch (err) {\n                this._logger.error(\"postForm: Error parsing JSON response\", err);\n                if (response.ok) throw err;\n                throw new Error(`${response.statusText} (${response.status})`);\n            }\n        }\n\n        if (!response.ok) {\n            this._logger.error(\"postForm: Error from server:\", json);\n            if (json.error) {\n                throw new ErrorResponse(json, body);\n            }\n            throw new Error(`${response.statusText} (${response.status}): ${JSON.stringify(json)}`);\n        }\n\n        return json;\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger, UrlUtils } from \"./utils\";\nimport { OidcClientSettings, OidcClientSettingsStore } from \"./OidcClientSettings\";\nimport { ResponseValidator } from \"./ResponseValidator\";\nimport { MetadataService } from \"./MetadataService\";\nimport { ErrorResponse } from \"./ErrorResponse\";\nimport type { RefreshState } from \"./RefreshState\";\nimport { SigninRequest } from \"./SigninRequest\";\nimport { SigninResponse } from \"./SigninResponse\";\nimport { SignoutRequest, SignoutRequestArgs } from \"./SignoutRequest\";\nimport { SignoutResponse } from \"./SignoutResponse\";\nimport { SigninState } from \"./SigninState\";\nimport { State } from \"./State\";\nimport { TokenClient } from \"./TokenClient\";\n\n/**\n * @public\n */\nexport interface CreateSigninRequestArgs {\n    redirect_uri?: string;\n    response_type?: string;\n    scope?: string;\n\n    /** custom \"state\", which can be used by a caller to have \"data\" round tripped */\n    state?: unknown;\n\n    prompt?: string;\n    display?: string;\n    max_age?: number;\n    ui_locales?: string;\n    id_token_hint?: string;\n    login_hint?: string;\n    acr_values?: string;\n    resource?: string;\n    response_mode?: \"query\" | \"fragment\";\n    request?: string;\n    request_uri?: string;\n    extraQueryParams?: Record<string, string | number | boolean>;\n    request_type?: string;\n    client_secret?: string;\n    extraTokenParams?: Record<string, unknown>;\n    skipUserInfo?: boolean;\n}\n\n/**\n * @public\n */\nexport type CreateSignoutRequestArgs = Omit<SignoutRequestArgs, \"url\" | \"state_data\"> & { state?: unknown };\n\n/**\n * Provides the raw OIDC/OAuth2 protocol support for the authorization endpoint and the end session endpoint in the\n * authorization server. It provides a bare-bones protocol implementation and is used by the UserManager class.\n * Only use this class if you simply want protocol support without the additional management features of the\n * UserManager class.\n *\n * @public\n */\nexport class OidcClient {\n    public readonly settings: OidcClientSettingsStore;\n    protected readonly _logger = new Logger(\"OidcClient\");\n\n    public readonly metadataService: MetadataService;\n    protected readonly _validator: ResponseValidator;\n    protected readonly _tokenClient: TokenClient;\n\n    public constructor(settings: OidcClientSettings) {\n        this.settings = new OidcClientSettingsStore(settings);\n\n        this.metadataService = new MetadataService(this.settings);\n        this._validator = new ResponseValidator(this.settings, this.metadataService);\n        this._tokenClient = new TokenClient(this.settings, this.metadataService);\n    }\n\n    public async createSigninRequest({\n        state,\n        request,\n        request_uri,\n        request_type,\n        id_token_hint,\n        login_hint,\n        skipUserInfo,\n        response_type = this.settings.response_type,\n        scope = this.settings.scope,\n        redirect_uri = this.settings.redirect_uri,\n        prompt = this.settings.prompt,\n        display = this.settings.display,\n        max_age = this.settings.max_age,\n        ui_locales = this.settings.ui_locales,\n        acr_values = this.settings.acr_values,\n        resource = this.settings.resource,\n        response_mode = this.settings.response_mode,\n        extraQueryParams = this.settings.extraQueryParams,\n        extraTokenParams = this.settings.extraTokenParams,\n    }: CreateSigninRequestArgs): Promise<SigninRequest> {\n        this._logger.debug(\"createSigninRequest\");\n\n        if (response_type !== \"code\") {\n            throw new Error(\"Only the Authorization Code flow (with PKCE) is supported\");\n        }\n\n        const url = await this.metadataService.getAuthorizationEndpoint();\n        this._logger.debug(\"createSigninRequest: Received authorization endpoint\", url);\n\n        const signinRequest = new SigninRequest({\n            url,\n            authority: this.settings.authority,\n            client_id: this.settings.client_id,\n            redirect_uri,\n            response_type,\n            scope,\n            state_data: state,\n            prompt, display, max_age, ui_locales, id_token_hint, login_hint, acr_values,\n            resource, request, request_uri, extraQueryParams, extraTokenParams, request_type, response_mode,\n            client_secret: this.settings.client_secret,\n            skipUserInfo,\n        });\n\n        const signinState = signinRequest.state;\n        await this.settings.stateStore.set(signinState.id, signinState.toStorageString());\n        return signinRequest;\n    }\n\n    public async readSigninResponseState(url: string, removeState = false): Promise<{ state: SigninState; response: SigninResponse }> {\n        this._logger.debug(\"readSigninResponseState\");\n\n        const response = new SigninResponse(UrlUtils.readParams(url, this.settings.response_mode));\n        if (!response.state) {\n            this._logger.error(\"readSigninResponseState: No state in response\");\n            throw new Error(\"No state in response\");\n        }\n\n        const storedStateString = await this.settings.stateStore[removeState ? \"remove\" : \"get\"](response.state);\n        if (!storedStateString) {\n            this._logger.error(\"readSigninResponseState: No matching state found in storage\");\n            throw new Error(\"No matching state found in storage\");\n        }\n\n        const state = SigninState.fromStorageString(storedStateString);\n        return { state, response };\n    }\n\n    public async processSigninResponse(url: string): Promise<SigninResponse> {\n        this._logger.debug(\"processSigninResponse\");\n\n        const { state, response } = await this.readSigninResponseState(url, true);\n        this._logger.debug(\"processSigninResponse: Received state from storage; validating response\");\n        await this._validator.validateSigninResponse(response, state);\n        return response;\n    }\n\n    public async useRefreshToken(state: RefreshState): Promise<SigninResponse> {\n        this._logger.debug(\"useRefreshToken\");\n\n        const result = await this._tokenClient.exchangeRefreshToken({\n            refresh_token: state.refresh_token,\n        });\n        const response = new SigninResponse(new URLSearchParams());\n        Object.assign(response, result);\n        this._logger.debug(\"useRefreshToken: validating response\", response);\n        await this._validator.validateRefreshResponse(response, state);\n        return response;\n    }\n\n    public async createSignoutRequest({\n        state,\n        id_token_hint,\n        request_type,\n        post_logout_redirect_uri = this.settings.post_logout_redirect_uri,\n        extraQueryParams = this.settings.extraQueryParams,\n    }: CreateSignoutRequestArgs = {}): Promise<SignoutRequest> {\n        this._logger.debug(\"createSignoutRequest\");\n\n        const url = await this.metadataService.getEndSessionEndpoint();\n        if (!url) {\n            this._logger.error(\"createSignoutRequest: No end session endpoint url returned\");\n            throw new Error(\"no end session endpoint\");\n        }\n\n        this._logger.debug(\"createSignoutRequest: Received end session endpoint\", url);\n\n        const request = new SignoutRequest({\n            url,\n            id_token_hint,\n            post_logout_redirect_uri,\n            state_data: state,\n            extraQueryParams,\n            request_type,\n        });\n\n        const signoutState = request.state;\n        if (signoutState) {\n            this._logger.debug(\"createSignoutRequest: Signout request has state to persist\");\n            await this.settings.stateStore.set(signoutState.id, signoutState.toStorageString());\n        }\n\n        return request;\n    }\n\n    public async readSignoutResponseState(url: string, removeState = false): Promise<{ state: State | undefined; response: SignoutResponse }> {\n        this._logger.debug(\"readSignoutResponseState\");\n\n        const response = new SignoutResponse(UrlUtils.readParams(url, this.settings.response_mode));\n        if (!response.state) {\n            this._logger.debug(\"readSignoutResponseState: No state in response\");\n\n            if (response.error) {\n                this._logger.warn(\"readSignoutResponseState: Response was error:\", response.error);\n                throw new ErrorResponse(response);\n            }\n\n            return { state: undefined, response };\n        }\n\n        const storedStateString = await this.settings.stateStore[removeState ? \"remove\" : \"get\"](response.state);\n        if (!storedStateString) {\n            this._logger.error(\"readSignoutResponseState: No matching state found in storage\");\n            throw new Error(\"No matching state found in storage\");\n        }\n\n        const state = State.fromStorageString(storedStateString);\n        return { state, response };\n    }\n\n    public async processSignoutResponse(url: string): Promise<SignoutResponse> {\n        this._logger.debug(\"processSignoutResponse\");\n\n        const { state, response } = await this.readSignoutResponseState(url, true);\n        if (state) {\n            this._logger.debug(\"processSignoutResponse: Received state from storage; validating response\");\n            this._validator.validateSignoutResponse(response, state);\n        } else {\n            this._logger.debug(\"processSignoutResponse: No state from storage; skipping validating response\");\n        }\n\n        return response;\n    }\n\n    public clearStaleState(): Promise<void> {\n        this._logger.debug(\"clearStaleState\");\n        return State.clearStaleState(this.settings.stateStore, this.settings.staleStateAgeInSeconds);\n    }\n\n    public async revokeToken(token: string, type?: \"access_token\" | \"refresh_token\"): Promise<void> {\n        this._logger.debug(\"revokeToken\");\n        return await this._tokenClient.revoke({\n            token,\n            token_type_hint: type,\n        });\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { WebStorageStateStore } from \"./WebStorageStateStore\";\nimport type { OidcMetadata } from \"./OidcMetadata\";\nimport type { StateStore } from \"./StateStore\";\nimport { InMemoryWebStorage } from \"./InMemoryWebStorage\";\n\nconst DefaultResponseType = \"code\";\nconst DefaultScope = \"openid\";\nconst DefaultClientAuthentication = \"client_secret_post\";\nconst DefaultResponseMode = \"query\";\nconst DefaultStaleStateAgeInSeconds = 60 * 15;\nconst DefaultClockSkewInSeconds = 60 * 5;\n\n/**\n * @public\n */\nexport type SigningKey = Record<string, string | string[]>;\n\n/**\n * The settings used to configure the {@link OidcClient}.\n *\n * @public\n */\nexport interface OidcClientSettings {\n    /** The URL of the OIDC/OAuth2 provider */\n    authority: string;\n    metadataUrl?: string;\n    /** Provide metadata when authority server does not allow CORS on the metadata endpoint */\n    metadata?: Partial<OidcMetadata>;\n    /** Can be used to seed or add additional values to the results of the discovery request */\n    metadataSeed?: Partial<OidcMetadata>;\n    /** Provide signingKeys when authority server does not allow CORS on the jwks uri */\n    signingKeys?: SigningKey[];\n\n    /** Your client application's identifier as registered with the OIDC/OAuth2 */\n    client_id: string;\n    client_secret?: string;\n    /** The type of response desired from the OIDC/OAuth2 provider (default: \"code\") */\n    response_type?: string;\n    /** The scope being requested from the OIDC/OAuth2 provider (default: \"openid\") */\n    scope?: string;\n    /** The redirect URI of your client application to receive a response from the OIDC/OAuth2 provider */\n    redirect_uri: string;\n    /** The OIDC/OAuth2 post-logout redirect URI */\n    post_logout_redirect_uri?: string;\n\n    /**\n     * Client authentication method that is used to authenticate when using the token endpoint (default: \"client_secret_post\")\n     * - \"client_secret_basic\": using the HTTP Basic authentication scheme\n     * - \"client_secret_post\": including the client credentials in the request body\n     *\n     * See https://openid.net/specs/openid-connect-core-1_0.html#ClientAuthentication\n     */\n    client_authentication?: \"client_secret_basic\" | \"client_secret_post\";\n\n    /** optional protocol param */\n    prompt?: string;\n    /** optional protocol param */\n    display?: string;\n    /** optional protocol param */\n    max_age?: number;\n    /** optional protocol param */\n    ui_locales?: string;\n    /** optional protocol param */\n    acr_values?: string;\n    /** optional protocol param */\n    resource?: string;\n\n    /** optional protocol param (default: \"query\") */\n    response_mode?: \"query\" | \"fragment\";\n\n    /** Should OIDC protocol claims be removed from profile (default: true) */\n    filterProtocolClaims?: boolean;\n    /** Flag to control if additional identity data is loaded from the user info endpoint in order to populate the user's profile (default: false) */\n    loadUserInfo?: boolean;\n    /** Number (in seconds) indicating the age of state entries in storage for authorize requests that are considered abandoned and thus can be cleaned up (default: 300) */\n    staleStateAgeInSeconds?: number;\n    /** The window of time (in seconds) to allow the current time to deviate when validating token's iat, nbf, and exp values (default: 300) */\n    clockSkewInSeconds?: number;\n    userInfoJwtIssuer?: \"ANY\" | \"OP\" | string;\n\n    /**\n     * Indicates if objects returned from the user info endpoint as claims (e.g. `address`) are merged into the claims from the id token as a single object.\n     * Otherwise, they are added to an array as distinct objects for the claim type. (default: false)\n     */\n    mergeClaims?: boolean;\n\n    /**\n     * Storage object used to persist interaction state (default: window.localStorage, InMemoryWebStorage iff no window).\n     * E.g. `stateStore: new WebStorageStateStore({ store: window.localStorage })`\n     */\n    stateStore?: StateStore;\n\n    /**\n     * An object containing additional query string parameters to be including in the authorization request.\n     * E.g, when using Azure AD to obtain an access token an additional resource parameter is required. extraQueryParams: `{resource:\"some_identifier\"}`\n     */\n    extraQueryParams?: Record<string, string | number | boolean>;\n\n    extraTokenParams?: Record<string, unknown>;\n}\n\n/**\n * The settings with defaults applied of the {@link OidcClient}.\n * @see {@link OidcClientSettings}\n *\n * @public\n */\nexport class OidcClientSettingsStore {\n    // metadata\n    public readonly authority: string;\n    public readonly metadataUrl: string | undefined;\n    public readonly metadata: Partial<OidcMetadata> | undefined;\n    public readonly metadataSeed: Partial<OidcMetadata> | undefined;\n    public readonly signingKeys: SigningKey[] | undefined;\n\n    // client config\n    public readonly client_id: string;\n    public readonly client_secret: string | undefined;\n    public readonly response_type: string;\n    public readonly scope: string;\n    public readonly redirect_uri: string;\n    public readonly post_logout_redirect_uri: string | undefined;\n    public readonly client_authentication: \"client_secret_basic\" | \"client_secret_post\";\n\n    // optional protocol params\n    public readonly prompt: string | undefined;\n    public readonly display: string | undefined;\n    public readonly max_age: number | undefined;\n    public readonly ui_locales: string | undefined;\n    public readonly acr_values: string | undefined;\n    public readonly resource: string | undefined;\n    public readonly response_mode: \"query\" | \"fragment\";\n\n    // behavior flags\n    public readonly filterProtocolClaims: boolean;\n    public readonly loadUserInfo: boolean;\n    public readonly staleStateAgeInSeconds: number;\n    public readonly clockSkewInSeconds: number;\n    public readonly userInfoJwtIssuer: \"ANY\" | \"OP\" | string;\n    public readonly mergeClaims: boolean;\n\n    public readonly stateStore: StateStore;\n\n    // extra\n    public readonly extraQueryParams: Record<string, string | number | boolean>;\n    public readonly extraTokenParams: Record<string, unknown>;\n\n    public constructor({\n        // metadata related\n        authority, metadataUrl, metadata, signingKeys, metadataSeed,\n        // client related\n        client_id, client_secret, response_type = DefaultResponseType, scope = DefaultScope,\n        redirect_uri, post_logout_redirect_uri,\n        client_authentication = DefaultClientAuthentication,\n        // optional protocol\n        prompt, display, max_age, ui_locales, acr_values, resource, response_mode = DefaultResponseMode,\n        // behavior flags\n        filterProtocolClaims = true,\n        loadUserInfo = false,\n        staleStateAgeInSeconds = DefaultStaleStateAgeInSeconds,\n        clockSkewInSeconds = DefaultClockSkewInSeconds,\n        userInfoJwtIssuer = \"OP\",\n        mergeClaims = false,\n        // other behavior\n        stateStore,\n        // extra query params\n        extraQueryParams = {},\n        extraTokenParams = {},\n    }: OidcClientSettings) {\n\n        this.authority = authority;\n        this.metadataUrl = metadataUrl;\n        this.metadata = metadata;\n        this.metadataSeed = metadataSeed;\n        this.signingKeys = signingKeys;\n\n        this.client_id = client_id;\n        this.client_secret = client_secret;\n        this.response_type = response_type;\n        this.scope = scope;\n        this.redirect_uri = redirect_uri;\n        this.post_logout_redirect_uri = post_logout_redirect_uri;\n        this.client_authentication = client_authentication;\n\n        this.prompt = prompt;\n        this.display = display;\n        this.max_age = max_age;\n        this.ui_locales = ui_locales;\n        this.acr_values = acr_values;\n        this.resource = resource;\n        this.response_mode = response_mode;\n\n        this.filterProtocolClaims = !!filterProtocolClaims;\n        this.loadUserInfo = !!loadUserInfo;\n        this.staleStateAgeInSeconds = staleStateAgeInSeconds;\n        this.clockSkewInSeconds = clockSkewInSeconds;\n        this.userInfoJwtIssuer = userInfoJwtIssuer;\n        this.mergeClaims = !!mergeClaims;\n\n        if (stateStore) {\n            this.stateStore = stateStore;\n        }\n        else {\n            const store = typeof window !== \"undefined\" ? window.localStorage : new InMemoryWebStorage();\n            this.stateStore = new WebStorageStateStore({ store });\n        }\n\n        this.extraQueryParams = extraQueryParams;\n        this.extraTokenParams = extraTokenParams;\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"./utils\";\nimport type { StateStore } from \"./StateStore\";\n\n/**\n * @public\n */\nexport class WebStorageStateStore implements StateStore {\n    private readonly _logger = new Logger(\"WebStorageStateStore\");\n\n    private readonly _store: Storage;\n    private readonly _prefix: string;\n\n    public constructor({ prefix = \"oidc.\", store = localStorage } = {}) {\n        this._store = store;\n        this._prefix = prefix;\n    }\n\n    public set(key: string, value: string): Promise<void> {\n        this._logger.debug(\"set\", key);\n\n        key = this._prefix + key;\n        this._store.setItem(key, value);\n        return Promise.resolve();\n    }\n\n    public get(key: string): Promise<string | null> {\n        this._logger.debug(\"get\", key);\n\n        key = this._prefix + key;\n        const item = this._store.getItem(key);\n        return Promise.resolve(item);\n    }\n\n    public remove(key: string): Promise<string | null> {\n        this._logger.debug(\"remove\", key);\n\n        key = this._prefix + key;\n        const item = this._store.getItem(key);\n        this._store.removeItem(key);\n        return Promise.resolve(item);\n    }\n\n    public getAllKeys(): Promise<string[]> {\n        this._logger.debug(\"getAllKeys\");\n\n        const keys = [];\n        for (let index = 0; index < this._store.length; index++) {\n            const key = this._store.key(index);\n            if (key && key.indexOf(this._prefix) === 0) {\n                keys.push(key.substr(this._prefix.length));\n            }\n        }\n        return Promise.resolve(keys);\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger, JwtUtils, JwtPayload } from \"./utils\";\nimport type { MetadataService } from \"./MetadataService\";\nimport { UserInfoService } from \"./UserInfoService\";\nimport { TokenClient } from \"./TokenClient\";\nimport { ErrorResponse } from \"./ErrorResponse\";\nimport type { OidcClientSettingsStore } from \"./OidcClientSettings\";\nimport type { SigninState } from \"./SigninState\";\nimport type { SigninResponse } from \"./SigninResponse\";\nimport type { State } from \"./State\";\nimport type { SignoutResponse } from \"./SignoutResponse\";\nimport type { UserProfile } from \"./User\";\nimport type { RefreshState } from \"./RefreshState\";\n\n/**\n * Derived from the following sets of claims:\n * - {@link https://datatracker.ietf.org/doc/html/rfc7519.html#section-4.1}\n * - {@link https://openid.net/specs/openid-connect-core-1_0.html#IDToken}\n * - {@link https://openid.net/specs/openid-connect-core-1_0.html#CodeIDToken}\n *\n * @internal\n */\nconst ProtocolClaims = [\n    \"iss\",\n    // \"sub\" should never be excluded, we need access to it internally\n    \"aud\",\n    \"exp\",\n    \"nbf\",\n    \"iat\",\n    \"jti\",\n    \"auth_time\",\n    \"nonce\",\n    \"acr\",\n    \"amr\",\n    \"azp\",\n    // https://openid.net/specs/openid-connect-core-1_0.html#CodeIDToken\n    \"at_hash\",\n] as const;\n\n/**\n * @internal\n */\nexport class ResponseValidator {\n    protected readonly _logger = new Logger(\"ResponseValidator\");\n    protected readonly _userInfoService = new UserInfoService(this._metadataService);\n    protected readonly _tokenClient = new TokenClient(this._settings, this._metadataService);\n\n    public constructor(\n        protected readonly _settings: OidcClientSettingsStore,\n        protected readonly _metadataService: MetadataService,\n    ) {}\n\n    public async validateSigninResponse(response: SigninResponse, state: SigninState): Promise<void> {\n        this._logger.debug(\"validateSigninResponse\");\n\n        this._processSigninState(response, state);\n        this._logger.debug(\"validateSigninResponse: state processed\");\n\n        await this._processCode(response, state);\n        this._logger.debug(\"validateSigninResponse: code processed\");\n\n        if (response.isOpenId) {\n            this._validateIdTokenAttributes(response);\n        }\n        this._logger.debug(\"validateSigninResponse: tokens validated\");\n\n        await this._processClaims(response, state?.skipUserInfo);\n        this._logger.debug(\"validateSigninResponse: claims processed\");\n    }\n\n    public async validateRefreshResponse(response: SigninResponse, state: RefreshState): Promise<void> {\n        this._logger.debug(\"validateRefreshResponse\");\n\n        response.userState = state.data;\n        // if there's no scope on the response, then assume all scopes granted (per-spec) and copy over scopes from original request\n        response.scope ??= state.scope;\n\n        if (response.isOpenId) {\n            this._validateIdTokenAttributes(response, state.id_token);\n        }\n        this._logger.debug(\"validateSigninResponse: tokens validated\");\n        await this._processClaims(response);\n        this._logger.debug(\"validateSigninResponse: claims processed\");\n    }\n\n    public validateSignoutResponse(response: SignoutResponse, state: State): void {\n        if (state.id !== response.state) {\n            this._logger.error(\"validateSignoutResponse: State does not match\");\n            throw new Error(\"State does not match\");\n        }\n\n        // now that we know the state matches, take the stored data\n        // and set it into the response so callers can get their state\n        // this is important for both success & error outcomes\n        this._logger.debug(\"validateSignoutResponse: state validated\");\n        response.userState = state.data;\n\n        if (response.error) {\n            this._logger.warn(\"validateSignoutResponse: Response was error\", response.error);\n            throw new ErrorResponse(response);\n        }\n    }\n\n    protected _processSigninState(response: SigninResponse, state: SigninState): void {\n        if (state.id !== response.state) {\n            this._logger.error(\"_processSigninState: State does not match\");\n            throw new Error(\"State does not match\");\n        }\n\n        if (!state.client_id) {\n            this._logger.error(\"_processSigninState: No client_id on state\");\n            throw new Error(\"No client_id on state\");\n        }\n\n        if (!state.authority) {\n            this._logger.error(\"_processSigninState: No authority on state\");\n            throw new Error(\"No authority on state\");\n        }\n\n        // ensure we're using the correct authority\n        if (this._settings.authority !== state.authority) {\n            this._logger.error(\"_processSigninState: authority mismatch on settings vs. signin state\");\n            throw new Error(\"authority mismatch on settings vs. signin state\");\n        }\n        if (this._settings.client_id && this._settings.client_id !== state.client_id) {\n            this._logger.error(\"_processSigninState: client_id mismatch on settings vs. signin state\");\n            throw new Error(\"client_id mismatch on settings vs. signin state\");\n        }\n\n        // now that we know the state matches, take the stored data\n        // and set it into the response so callers can get their state\n        // this is important for both success & error outcomes\n        this._logger.debug(\"_processSigninState: state validated\");\n        response.userState = state.data;\n        // if there's no scope on the response, then assume all scopes granted (per-spec) and copy over scopes from original request\n        response.scope ??= state.scope;\n\n        if (response.error) {\n            this._logger.warn(\"_processSigninState: Response was error\", response.error);\n            throw new ErrorResponse(response);\n        }\n\n        if (state.code_verifier && !response.code) {\n            this._logger.error(\"_processSigninState: Expecting code in response\");\n            throw new Error(\"No code in response\");\n        }\n\n        if (!state.code_verifier && response.code) {\n            this._logger.error(\"_processSigninState: Not expecting code in response\");\n            throw new Error(\"Unexpected code in response\");\n        }\n    }\n\n    protected async _processClaims(response: SigninResponse, skipUserInfo = false): Promise<void> {\n        if (!response.isOpenId) {\n            this._logger.debug(\"_processClaims: response is not OIDC, not processing claims\");\n            return;\n        }\n        this._logger.debug(\"_processClaims: response is OIDC, processing claims\");\n        response.profile = this._filterProtocolClaims(response.profile);\n\n        if (skipUserInfo || !this._settings.loadUserInfo || !response.access_token) {\n            this._logger.debug(\"_processClaims: not loading user info\");\n            return;\n        }\n\n        this._logger.debug(\"_processClaims: loading user info\");\n\n        const claims = await this._userInfoService.getClaims(response.access_token);\n        this._logger.debug(\"_processClaims: user info claims received from user info endpoint\");\n\n        if (claims.sub !== response.profile.sub) {\n            this._logger.error(\"_processClaims: subject from UserInfo response does not match subject in ID Token\");\n            throw new Error(\"subject from UserInfo response does not match subject in ID Token\");\n        }\n\n        response.profile = this._mergeClaims(response.profile, this._filterProtocolClaims(claims));\n        this._logger.debug(\"_processClaims: user info claims received, updated profile:\", response.profile);\n    }\n\n    protected _mergeClaims(claims1: UserProfile, claims2: JwtPayload): UserProfile {\n        const result = { ...claims1 };\n\n        for (const [claim, values] of Object.entries(claims2)) {\n            for (const value of Array.isArray(values) ? values : [values]) {\n                const previousValue = result[claim];\n                if (!previousValue) {\n                    result[claim] = value;\n                }\n                else if (Array.isArray(previousValue)) {\n                    if (!previousValue.includes(value)) {\n                        previousValue.push(value);\n                    }\n                }\n                else if (result[claim] !== value) {\n                    if (typeof value === \"object\" && this._settings.mergeClaims) {\n                        result[claim] = this._mergeClaims(previousValue as UserProfile, value);\n                    }\n                    else {\n                        result[claim] = [previousValue, value];\n                    }\n                }\n            }\n        }\n\n        return result;\n    }\n\n    protected _filterProtocolClaims(claims: UserProfile): UserProfile {\n        this._logger.debug(\"_filterProtocolClaims, incoming claims:\", claims);\n\n        const result = { ...claims };\n\n        if (this._settings.filterProtocolClaims) {\n            for (const type of ProtocolClaims) {\n                delete result[type];\n            }\n            this._logger.debug(\"_filterProtocolClaims: protocol claims filtered:\", result);\n        }\n        else {\n            this._logger.debug(\"_filterProtocolClaims: protocol claims not filtered\");\n        }\n\n        return result;\n    }\n\n    protected async _processCode(response: SigninResponse, state: SigninState): Promise<void> {\n        if (response.code) {\n            this._logger.debug(\"_processCode: Validating code\");\n            const tokenResponse = await this._tokenClient.exchangeCode({\n                client_id: state.client_id,\n                client_secret: state.client_secret,\n                code: response.code,\n                redirect_uri: state.redirect_uri,\n                code_verifier: state.code_verifier,\n                ...state.extraTokenParams,\n            });\n            Object.assign(response, tokenResponse);\n        } else {\n            this._logger.debug(\"_processCode: No code to process\");\n        }\n    }\n\n    protected _validateIdTokenAttributes(response: SigninResponse, currentToken?: string): void {\n        this._logger.debug(\"_validateIdTokenAttributes: Decoding JWT attributes\");\n\n        const profile = JwtUtils.decode(response.id_token ?? \"\");\n\n        if (!profile.sub) {\n            this._logger.error(\"_validateIdTokenAttributes: No subject present in ID Token\");\n            throw new Error(\"No subject is present in ID Token\");\n        }\n\n        if (currentToken) {\n            const current = JwtUtils.decode(currentToken);\n            if (current.sub !== profile.sub) {\n                this._logger.error(\"_validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub\");\n                throw new Error(\"sub in id_token does not match current sub\");\n            }\n            if (current.auth_time && current.auth_time !== profile.auth_time) {\n                this._logger.error(\"_validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time\");\n                throw new Error(\"auth_time in id_token does not match original auth_time\");\n            }\n            if (current.azp && current.azp !== profile.azp) {\n                this._logger.error(\"_validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp\");\n                throw new Error(\"azp in id_token does not match original azp\");\n            }\n            if (!current.azp && profile.azp) {\n                this._logger.error(\"_validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token\");\n                throw new Error(\"azp not in id_token, but present in original id_token\");\n            }\n        }\n\n        response.profile = profile;\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger, JwtUtils, JwtPayload } from \"./utils\";\nimport { JsonService } from \"./JsonService\";\nimport type { MetadataService } from \"./MetadataService\";\n\n/**\n * @internal\n */\nexport class UserInfoService {\n    protected readonly _logger = new Logger(\"UserInfoService\");\n    private readonly _jsonService: JsonService;\n\n    public constructor(private readonly _metadataService: MetadataService) {\n        this._jsonService = new JsonService(undefined, this._getClaimsFromJwt);\n    }\n\n    public async getClaims(token: string): Promise<JwtPayload> {\n        if (!token) {\n            this._logger.error(\"getClaims: No token passed\");\n            throw new Error(\"A token is required\");\n        }\n\n        const url = await this._metadataService.getUserInfoEndpoint();\n        this._logger.debug(\"getClaims: received userinfo url\", url);\n\n        const claims = await this._jsonService.getJson(url, token);\n        this._logger.debug(\"getClaims: claims received\", claims);\n\n        return claims;\n    }\n\n    protected _getClaimsFromJwt = async (responseText: string): Promise<JwtPayload> => {\n        try {\n            const payload = JwtUtils.decode(responseText);\n            this._logger.debug(\"_getClaimsFromJwt: JWT decoding successful\");\n\n            return payload;\n        }\n        catch (err) {\n            this._logger.error(\"_getClaimsFromJwt: Error parsing JWT response\", err instanceof Error ? err.message : err);\n            throw err;\n        }\n    };\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { CryptoUtils, Logger } from \"./utils\";\nimport { JsonService } from \"./JsonService\";\nimport type { MetadataService } from \"./MetadataService\";\nimport type { OidcClientSettingsStore } from \"./OidcClientSettings\";\n\n/**\n * @internal\n */\nexport interface ExchangeCodeArgs {\n    client_id?: string;\n    client_secret?: string;\n    redirect_uri?: string;\n\n    grant_type?: string;\n    code: string;\n    code_verifier?: string;\n}\n\n/**\n * @internal\n */\nexport interface ExchangeRefreshTokenArgs {\n    client_id?: string;\n    client_secret?: string;\n\n    grant_type?: string;\n    refresh_token: string;\n}\n\n/**\n * @internal\n */\nexport interface RevokeArgs {\n    token: string;\n    token_type_hint?: \"access_token\" | \"refresh_token\";\n}\n\n/**\n * @internal\n */\nexport class TokenClient {\n    private readonly _logger = new Logger(\"TokenClient\");\n    private readonly _jsonService = new JsonService();\n\n    public constructor(\n        private readonly _settings: OidcClientSettingsStore,\n        private readonly _metadataService: MetadataService,\n    ) {}\n\n    public async exchangeCode({\n        grant_type = \"authorization_code\",\n        redirect_uri = this._settings.redirect_uri,\n        client_id = this._settings.client_id,\n        client_secret = this._settings.client_secret,\n        ...args\n    }: ExchangeCodeArgs): Promise<Record<string, unknown>> {\n        if (!client_id) {\n            this._logger.error(\"exchangeCode: No client_id passed\");\n            throw new Error(\"A client_id is required\");\n        }\n        if (!redirect_uri) {\n            this._logger.error(\"exchangeCode: No redirect_uri passed\");\n            throw new Error(\"A redirect_uri is required\");\n        }\n        if (!args.code) {\n            this._logger.error(\"exchangeCode: No code passed\");\n            throw new Error(\"A code is required\");\n        }\n        if (!args.code_verifier) {\n            this._logger.error(\"exchangeCode: No code_verifier passed\");\n            throw new Error(\"A code_verifier is required\");\n        }\n\n        const params = new URLSearchParams({ grant_type, redirect_uri });\n        for (const [key, value] of Object.entries(args)) {\n            if (value != null) {\n                params.set(key, value);\n            }\n        }\n        let basicAuth: string | undefined;\n        switch (this._settings.client_authentication) {\n            case \"client_secret_basic\":\n                if (!client_secret) {\n                    this._logger.error(\"exchangeCode: No client_secret passed\");\n                    throw new Error(\"A client_secret is required\");\n                }\n                basicAuth = CryptoUtils.generateBasicAuth(client_id, client_secret);\n                break;\n            case \"client_secret_post\":\n                params.append(\"client_id\", client_id);\n                if (client_secret) {\n                    params.append(\"client_secret\", client_secret);\n                }\n                break;\n        }\n\n        const url = await this._metadataService.getTokenEndpoint(false);\n        this._logger.debug(\"exchangeCode: Received token endpoint\");\n\n        const response = await this._jsonService.postForm(url, params, basicAuth);\n        this._logger.debug(\"exchangeCode: response received\");\n\n        return response;\n    }\n\n    public async exchangeRefreshToken({\n        grant_type = \"refresh_token\",\n        client_id = this._settings.client_id,\n        client_secret = this._settings.client_secret,\n        ...args\n    }: ExchangeRefreshTokenArgs): Promise<Record<string, unknown>> {\n        if (!client_id) {\n            this._logger.error(\"exchangeRefreshToken: No client_id passed\");\n            throw new Error(\"A client_id is required\");\n        }\n        if (!args.refresh_token) {\n            this._logger.error(\"exchangeRefreshToken: No refresh_token passed\");\n            throw new Error(\"A refresh_token is required\");\n        }\n\n        const params = new URLSearchParams({ grant_type });\n        for (const [key, value] of Object.entries(args)) {\n            if (value != null) {\n                params.set(key, value);\n            }\n        }\n        let basicAuth: string | undefined;\n        switch (this._settings.client_authentication) {\n            case \"client_secret_basic\":\n                if (!client_secret) {\n                    this._logger.error(\"exchangeCode: No client_secret passed\");\n                    throw new Error(\"A client_secret is required\");\n                }\n                basicAuth = CryptoUtils.generateBasicAuth(client_id, client_secret);\n                break;\n            case \"client_secret_post\":\n                params.append(\"client_id\", client_id);\n                if (client_secret) {\n                    params.append(\"client_secret\", client_secret);\n                }\n                break;\n        }\n\n        const url = await this._metadataService.getTokenEndpoint(false);\n        this._logger.debug(\"exchangeRefreshToken: Received token endpoint\");\n\n        const response = await this._jsonService.postForm(url, params, basicAuth);\n        this._logger.debug(\"exchangeRefreshToken: response received\");\n\n        return response;\n    }\n\n    public async revoke(args: RevokeArgs): Promise<void> {\n        if (!args.token) {\n            this._logger.error(\"revoke: No token passed\");\n            throw new Error(\"A token is required\");\n        }\n\n        const url = await this._metadataService.getRevocationEndpoint(false);\n\n        this._logger.debug(`revoke: Received revocation endpoint, revoking ${args.token_type_hint ?? \"default type\"}`);\n\n        const params = new URLSearchParams();\n        for (const [key, value] of Object.entries(args)) {\n            if (value != null) {\n                params.set(key, value);\n            }\n        }\n        params.set(\"client_id\", this._settings.client_id);\n        if (this._settings.client_secret) {\n            params.set(\"client_secret\", this._settings.client_secret);\n        }\n\n        await this._jsonService.postForm(url, params);\n        this._logger.debug(\"revoke: response received\");\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"./utils\";\nimport { SigninState } from \"./SigninState\";\n\n/**\n * @public\n */\nexport interface SigninRequestArgs {\n    // mandatory\n    url: string;\n    authority: string;\n    client_id: string;\n    redirect_uri: string;\n    response_type: string;\n    scope: string;\n\n    // optional\n    prompt?: string;\n    display?: string;\n    max_age?: number;\n    ui_locales?: string;\n    id_token_hint?: string;\n    login_hint?: string;\n    acr_values?: string;\n    resource?: string;\n    response_mode?: \"query\" | \"fragment\" ;\n    request?: string;\n    request_uri?: string;\n    extraQueryParams?: Record<string, string | number | boolean>;\n    request_type?: string;\n    client_secret?: string;\n    extraTokenParams?: Record<string, unknown>;\n    skipUserInfo?: boolean;\n\n    /** custom \"state\", which can be used by a caller to have \"data\" round tripped */\n    state_data?: unknown;\n}\n\n/**\n * @public\n */\nexport class SigninRequest {\n    private readonly _logger = new Logger(\"SigninRequest\");\n\n    public readonly url: string;\n    public readonly state: SigninState;\n\n    public constructor({\n        // mandatory\n        url, authority, client_id, redirect_uri, response_type, scope,\n        // optional\n        state_data, response_mode, request_type, client_secret,\n        skipUserInfo,\n        extraQueryParams,\n        extraTokenParams,\n        ...optionalParams\n    }: SigninRequestArgs) {\n        if (!url) {\n            this._logger.error(\"ctor: No url passed\");\n            throw new Error(\"url\");\n        }\n        if (!client_id) {\n            this._logger.error(\"ctor: No client_id passed\");\n            throw new Error(\"client_id\");\n        }\n        if (!redirect_uri) {\n            this._logger.error(\"ctor: No redirect_uri passed\");\n            throw new Error(\"redirect_uri\");\n        }\n        if (!response_type) {\n            this._logger.error(\"ctor: No response_type passed\");\n            throw new Error(\"response_type\");\n        }\n        if (!scope) {\n            this._logger.error(\"ctor: No scope passed\");\n            throw new Error(\"scope\");\n        }\n        if (!authority) {\n            this._logger.error(\"ctor: No authority passed\");\n            throw new Error(\"authority\");\n        }\n\n        this.state = new SigninState({\n            data: state_data,\n            request_type,\n            code_verifier: true,\n            client_id, authority, redirect_uri,\n            response_mode,\n            client_secret, scope, extraTokenParams,\n            skipUserInfo,\n        });\n\n        const parsedUrl = new URL(url);\n        parsedUrl.searchParams.append(\"client_id\", client_id);\n        parsedUrl.searchParams.append(\"redirect_uri\", redirect_uri);\n        parsedUrl.searchParams.append(\"response_type\", response_type);\n        parsedUrl.searchParams.append(\"scope\", scope);\n\n        parsedUrl.searchParams.append(\"state\", this.state.id);\n        if (this.state.code_challenge) {\n            parsedUrl.searchParams.append(\"code_challenge\", this.state.code_challenge);\n            parsedUrl.searchParams.append(\"code_challenge_method\", \"S256\");\n        }\n\n        for (const [key, value] of Object.entries({ response_mode, ...optionalParams, ...extraQueryParams })) {\n            if (value != null) {\n                parsedUrl.searchParams.append(key, value.toString());\n            }\n        }\n\n        this.url = parsedUrl.href;\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger, CryptoUtils } from \"./utils\";\nimport { State } from \"./State\";\n\n/**\n * @public\n */\nexport class SigninState extends State {\n    // isCode\n    /** The same code_verifier that was used to obtain the authorization_code via PKCE. */\n    public readonly code_verifier: string | undefined;\n    /** Used to secure authorization code grants via Proof Key for Code Exchange (PKCE). */\n    public readonly code_challenge: string | undefined;\n\n    // to ensure state still matches settings\n    /** @see {@link OidcClientSettings.authority} */\n    public readonly authority: string;\n    /** @see {@link OidcClientSettings.client_id} */\n    public readonly client_id: string;\n    /** @see {@link OidcClientSettings.redirect_uri} */\n    public readonly redirect_uri: string;\n    /** @see {@link OidcClientSettings.scope} */\n    public readonly scope: string;\n    /** @see {@link OidcClientSettings.client_secret} */\n    public readonly client_secret: string | undefined;\n    /** @see {@link OidcClientSettings.extraTokenParams} */\n    public readonly extraTokenParams: Record<string, unknown> | undefined;\n    /** @see {@link OidcClientSettings.response_mode} */\n    public readonly response_mode: \"query\" | \"fragment\" | undefined;\n\n    public readonly skipUserInfo: boolean | undefined;\n\n    public constructor(args: {\n        id?: string;\n        data?: unknown;\n        created?: number;\n        request_type?: string;\n\n        code_verifier?: string | boolean;\n        authority: string;\n        client_id: string;\n        redirect_uri: string;\n        scope: string;\n        client_secret?: string;\n        extraTokenParams?: Record<string, unknown>;\n        response_mode?: \"query\" | \"fragment\";\n        skipUserInfo?: boolean;\n    }) {\n        super(args);\n\n        if (args.code_verifier === true) {\n            this.code_verifier = CryptoUtils.generateCodeVerifier();\n        }\n        else if (args.code_verifier) {\n            this.code_verifier = args.code_verifier;\n        }\n\n        if (this.code_verifier) {\n            this.code_challenge = CryptoUtils.generateCodeChallenge(this.code_verifier);\n        }\n\n        this.authority = args.authority;\n        this.client_id = args.client_id;\n        this.redirect_uri = args.redirect_uri;\n        this.scope = args.scope;\n        this.client_secret = args.client_secret;\n        this.extraTokenParams = args.extraTokenParams;\n\n        this.response_mode = args.response_mode;\n        this.skipUserInfo = args.skipUserInfo;\n    }\n\n    public toStorageString(): string {\n        Logger.debug(\"SigninState\", \"toStorageString\");\n        return JSON.stringify({\n            id: this.id,\n            data: this.data,\n            created: this.created,\n            request_type: this.request_type,\n\n            code_verifier: this.code_verifier,\n            authority: this.authority,\n            client_id: this.client_id,\n            redirect_uri: this.redirect_uri,\n            scope: this.scope,\n            client_secret: this.client_secret,\n            extraTokenParams : this.extraTokenParams,\n            response_mode: this.response_mode,\n            skipUserInfo: this.skipUserInfo,\n        });\n    }\n\n    public static fromStorageString(storageString: string): SigninState {\n        Logger.debug(\"SigninState\", \"fromStorageString\");\n        const data = JSON.parse(storageString);\n        return new SigninState(data);\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger, CryptoUtils, Timer } from \"./utils\";\nimport type { StateStore } from \"./StateStore\";\n\n/**\n * @public\n */\nexport class State {\n    public readonly id: string;\n    public readonly created: number;\n    public readonly request_type: string | undefined;\n\n    /** custom \"state\", which can be used by a caller to have \"data\" round tripped */\n    public readonly data: unknown | undefined;\n\n    public constructor(args: {\n        id?: string;\n        data?: unknown;\n        created?: number;\n        request_type?: string;\n    }) {\n        this.id = args.id || CryptoUtils.generateUUIDv4();\n        this.data = args.data;\n\n        if (args.created && args.created > 0) {\n            this.created = args.created;\n        }\n        else {\n            this.created = Timer.getEpochTime();\n        }\n        this.request_type = args.request_type;\n    }\n\n    public toStorageString(): string {\n        Logger.debug(\"State\", \"toStorageString\");\n        return JSON.stringify({\n            id: this.id,\n            data: this.data,\n            created: this.created,\n            request_type: this.request_type,\n        });\n    }\n\n    public static fromStorageString(storageString: string): State {\n        Logger.debug(\"State\", \"fromStorageString\");\n        return new State(JSON.parse(storageString));\n    }\n\n    public static async clearStaleState(storage: StateStore, age: number): Promise<void> {\n        const cutoff = Timer.getEpochTime() - age;\n\n        const keys = await storage.getAllKeys();\n        Logger.debug(\"State\", \"clearStaleState: got keys\", keys);\n\n        for (let i = 0; i < keys.length; i++) {\n            const key = keys[i];\n            const item = await storage.get(key);\n            let remove = false;\n\n            if (item) {\n                try {\n                    const state = State.fromStorageString(item);\n\n                    Logger.debug(\"State\", \"clearStaleState: got item from key: \", key, state.created);\n                    if (state.created <= cutoff) {\n                        remove = true;\n                    }\n                }\n                catch (err) {\n                    Logger.error(\"State\", \"clearStaleState: Error parsing state for key\", key, err instanceof Error ? err.message : err);\n                    remove = true;\n                }\n            }\n            else {\n                Logger.debug(\"State\", \"clearStaleState: no item in storage for key: \", key);\n                remove = true;\n            }\n\n            if (remove) {\n                Logger.debug(\"State\", \"clearStaleState: removed item for key: \", key);\n                void storage.remove(key);\n            }\n        }\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Timer } from \"./utils\";\nimport type { UserProfile } from \"./User\";\n\nconst OidcScope = \"openid\";\n\n/**\n * @public\n */\nexport class SigninResponse {\n    // props present in the initial callback response regardless of success\n    public readonly state: string | null;\n    /** @see {@link User.session_state} */\n    public readonly session_state: string | null;\n\n    // error props\n    /** @see {@link ErrorResponse.error} */\n    public readonly error: string | null;\n    /** @see {@link ErrorResponse.error_description} */\n    public readonly error_description: string | null;\n    /** @see {@link ErrorResponse.error_uri} */\n    public readonly error_uri: string | null;\n\n    // success props\n    public readonly code: string | null;\n\n    // props set after validation\n    /** @see {@link User.id_token} */\n    public id_token?: string;\n    /** @see {@link User.access_token} */\n    public access_token = \"\";\n    /** @see {@link User.token_type} */\n    public token_type = \"\";\n    /** @see {@link User.refresh_token} */\n    public refresh_token?: string;\n    /** @see {@link User.scope} */\n    public scope?: string;\n    /** @see {@link User.expires_at} */\n    public expires_at?: number;\n\n    /** custom state data set during the initial signin request */\n    public userState: unknown;\n\n    /** @see {@link User.profile} */\n    public profile: UserProfile = {};\n\n    public constructor(params: URLSearchParams) {\n        this.state = params.get(\"state\");\n        this.session_state = params.get(\"session_state\");\n\n        this.error = params.get(\"error\");\n        this.error_description = params.get(\"error_description\");\n        this.error_uri = params.get(\"error_uri\");\n\n        this.code = params.get(\"code\");\n    }\n\n    public get expires_in(): number | undefined {\n        if (this.expires_at === undefined) {\n            return undefined;\n        }\n        return this.expires_at - Timer.getEpochTime();\n    }\n    public set expires_in(value: number | undefined) {\n        // spec expects a number, but normalize here just in case\n        if (typeof value === \"string\") value = Number(value);\n        if (value !== undefined && value >= 0) {\n            this.expires_at = Math.floor(value) + Timer.getEpochTime();\n        }\n    }\n\n    public get isOpenId(): boolean {\n        return this.scope?.split(\" \").includes(OidcScope) || !!this.id_token;\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"./utils\";\nimport { State } from \"./State\";\n\n/**\n * @public\n */\nexport interface SignoutRequestArgs {\n    // mandatory\n    url: string;\n\n    // optional\n    state_data?: unknown;\n    id_token_hint?: string;\n    post_logout_redirect_uri?: string;\n    extraQueryParams?: Record<string, string | number | boolean>;\n    request_type?: string;\n}\n\n/**\n * @public\n */\nexport class SignoutRequest {\n    private readonly _logger = new Logger(\"SignoutRequest\");\n\n    public readonly url: string;\n    public readonly state?: State;\n\n    public constructor({\n        url,\n        state_data, id_token_hint, post_logout_redirect_uri, extraQueryParams, request_type,\n    }: SignoutRequestArgs) {\n        if (!url) {\n            this._logger.error(\"ctor: No url passed\");\n            throw new Error(\"url\");\n        }\n\n        const parsedUrl = new URL(url);\n        if (id_token_hint) {\n            parsedUrl.searchParams.append(\"id_token_hint\", id_token_hint);\n        }\n\n        if (post_logout_redirect_uri) {\n            parsedUrl.searchParams.append(\"post_logout_redirect_uri\", post_logout_redirect_uri);\n\n            if (state_data) {\n                this.state = new State({ data: state_data, request_type });\n\n                parsedUrl.searchParams.append(\"state\", this.state.id);\n            }\n        }\n\n        for (const [key, value] of Object.entries({ ...extraQueryParams })) {\n            if (value != null) {\n                parsedUrl.searchParams.append(key, value.toString());\n            }\n        }\n\n        this.url = parsedUrl.href;\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\n/**\n * @public\n */\nexport class SignoutResponse {\n    public readonly state: string | null;\n\n    // error props\n    /** @see {@link ErrorResponse.error} */\n    public error: string | null;\n    /** @see {@link ErrorResponse.error_description} */\n    public error_description: string | null;\n    /** @see {@link ErrorResponse.error_uri} */\n    public error_uri: string | null;\n\n    /** custom state data set during the initial signin request */\n    public userState: unknown;\n\n    public constructor(params: URLSearchParams) {\n        this.state = params.get(\"state\");\n\n        this.error = params.get(\"error\");\n        this.error_description = params.get(\"error_description\");\n        this.error_uri = params.get(\"error_uri\");\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"./utils\";\nimport { CheckSessionIFrame } from \"./CheckSessionIFrame\";\nimport type { UserManager } from \"./UserManager\";\nimport type { User } from \"./User\";\n\n/**\n * @public\n */\nexport class SessionMonitor {\n    private readonly _logger = new Logger(\"SessionMonitor\");\n\n    private _sub: string | undefined;\n    private _sid: string | undefined;\n    private _checkSessionIFrame?: CheckSessionIFrame;\n\n    public constructor(private readonly _userManager: UserManager) {\n        if (!_userManager) {\n            this._logger.error(\"ctor: No user manager passed to SessionMonitor\");\n            throw new Error(\"userManager\");\n        }\n\n        this._userManager.events.addUserLoaded(this._start);\n        this._userManager.events.addUserUnloaded(this._stop);\n\n        Promise.resolve(this._init())\n            .catch((err: Error) => {\n            // catch to suppress errors since we're in a ctor\n                this._logger.error(\"ctor: error:\", err.message);\n            });\n    }\n\n    protected async _init(): Promise<void> {\n        const user = await this._userManager.getUser();\n        // doing this manually here since calling getUser\n        // doesn't trigger load event.\n        if (user) {\n            void this._start(user);\n        }\n        else if (this._userManager.settings.monitorAnonymousSession) {\n            const session = await this._userManager.querySessionStatus();\n            if (session) {\n                const tmpUser = {\n                    session_state: session.session_state,\n                    profile: session.sub && session.sid ? {\n                        sub: session.sub,\n                        sid: session.sid,\n                    } : null,\n                };\n                void this._start(tmpUser);\n            }\n        }\n    }\n\n    protected _start = async (\n        user: User | {\n            session_state: string;\n            profile: { sub: string; sid: string } | null;\n        },\n    ): Promise<void> => {\n        const session_state = user.session_state;\n        if (!session_state) {\n            return;\n        }\n\n        if (user.profile) {\n            this._sub = user.profile.sub;\n            this._sid = user.profile.sid;\n            this._logger.debug(\"_start: session_state:\", session_state, \", sub:\", this._sub);\n        }\n        else {\n            this._sub = undefined;\n            this._sid = undefined;\n            this._logger.debug(\"_start: session_state:\", session_state, \", anonymous user\");\n        }\n\n        if (this._checkSessionIFrame) {\n            this._checkSessionIFrame.start(session_state);\n            return;\n        }\n\n        try {\n            const url = await this._userManager.metadataService.getCheckSessionIframe();\n            if (url) {\n                this._logger.debug(\"_start: Initializing check session iframe\");\n\n                const client_id = this._userManager.settings.client_id;\n                const intervalInSeconds = this._userManager.settings.checkSessionIntervalInSeconds;\n                const stopOnError = this._userManager.settings.stopCheckSessionOnError;\n\n                const checkSessionIFrame = new CheckSessionIFrame(this._callback, client_id, url, intervalInSeconds, stopOnError);\n                await checkSessionIFrame.load();\n                this._checkSessionIFrame = checkSessionIFrame;\n                checkSessionIFrame.start(session_state);\n            }\n            else {\n                this._logger.warn(\"_start: No check session iframe found in the metadata\");\n            }\n        }\n        catch (err) {\n            // catch to suppress errors since we're in non-promise callback\n            this._logger.error(\"_start: Error from getCheckSessionIframe:\", err instanceof Error ? err.message : err);\n        }\n    };\n\n    protected _stop = (): void => {\n        this._sub = undefined;\n        this._sid = undefined;\n\n        if (this._checkSessionIFrame) {\n            this._logger.debug(\"_stop\");\n            this._checkSessionIFrame.stop();\n        }\n\n        if (this._userManager.settings.monitorAnonymousSession) {\n            // using a timer to delay re-initialization to avoid race conditions during signout\n            // TODO rewrite to use promise correctly\n            // eslint-disable-next-line @typescript-eslint/no-misused-promises\n            const timerHandle = setInterval(async () => {\n                clearInterval(timerHandle);\n\n                try {\n                    const session = await this._userManager.querySessionStatus();\n                    if (session) {\n                        const tmpUser = {\n                            session_state: session.session_state,\n                            profile: session.sub && session.sid ? {\n                                sub: session.sub,\n                                sid: session.sid,\n                            } : null,\n                        };\n                        void this._start(tmpUser);\n                    }\n                }\n                catch (err) {\n                    // catch to suppress errors since we're in a callback\n                    this._logger.error(\"_stop: error from querySessionStatus:\", err instanceof Error ? err.message : err);\n                }\n            }, 1000);\n        }\n    };\n\n    protected _callback = async (): Promise<void> => {\n        try {\n            const session = await this._userManager.querySessionStatus();\n            let raiseEvent = true;\n\n            if (session && this._checkSessionIFrame) {\n                if (session.sub === this._sub) {\n                    raiseEvent = false;\n                    this._checkSessionIFrame.start(session.session_state);\n\n                    if (session.sid === this._sid) {\n                        this._logger.debug(\"_callback: Same sub still logged in at OP, restarting check session iframe; session_state:\", session.session_state);\n                    }\n                    else {\n                        this._logger.debug(\"_callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:\", session.session_state);\n                        this._userManager.events._raiseUserSessionChanged();\n                    }\n                }\n                else {\n                    this._logger.debug(\"_callback: Different subject signed into OP:\", session.sub);\n                }\n            }\n            else {\n                this._logger.debug(\"_callback: Subject no longer signed into OP\");\n            }\n\n            if (raiseEvent) {\n                if (this._sub) {\n                    this._logger.debug(\"_callback: SessionMonitor._callback; raising signed out event\");\n                    this._userManager.events._raiseUserSignedOut();\n                }\n                else {\n                    this._logger.debug(\"_callback: SessionMonitor._callback; raising signed in event\");\n                    this._userManager.events._raiseUserSignedIn();\n                }\n            }\n        }\n        catch (err) {\n            if (this._sub) {\n                this._logger.debug(\"_callback: Error calling queryCurrentSigninSession; raising signed out event\",\n                    err instanceof Error ? err.message : err);\n                this._userManager.events._raiseUserSignedOut();\n            }\n        }\n    };\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger, Timer } from \"./utils\";\n\n/**\n * Holds claims represented by a combination of the `id_token` and the user info endpoint.\n * @see https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims\n *\n * @public\n */\nexport interface UserProfile {\n    /** Identifier for the End-User at the Issuer */\n    sub?: string;\n    sid?: string;\n    azp?: string;\n    at_hash?: string;\n    auth_time?: number;\n\n    /** End-User's full name in displayable form including all name parts, possibly including titles and suffixes, ordered according to the End-User's locale and preferences */\n    name?: string;\n    /** Given name(s) or first name(s) of the End-User. Note that in some cultures, people can have multiple given names; all can be present, with the names being separated by space characters. */\n    given_name?: string;\n    /** Surname(s) or last name(s) of the End-User. Note that in some cultures, people can have multiple family names or no family name; all can be present, with the names being separated by space characters. */\n    family_name?: string;\n    /** Middle name(s) of the End-User. Note that in some cultures, people can have multiple middle names; all can be present, with the names being separated by space characters. Also note that in some cultures, middle names are not used. */\n    middle_name?: string;\n    /** Casual name of the End-User that may or may not be the same as the given_name. For instance, a nickname value of Mike might be returned alongside a given_name value of Michael. */\n    nickname?: string;\n    /** Shorthand name by which the End-User wishes to be referred to at the RP, such as janedoe or j.doe */\n    preferred_username?: string;\n    /** URL of the End-User's profile page. The contents of this Web page SHOULD be about the End-User. */\n    profile?: string;\n    /** URL of the End-User's profile picture. This URL MUST refer to an image file (for example, a PNG, JPEG, or GIF image file), rather than to a Web page containing an image. Note that this URL SHOULD specifically reference a profile photo of the End-User suitable for displaying when describing the End-User, rather than an arbitrary photo taken by the End-User. */\n    picture?: string;\n    /** URL of the End-User's Web page or blog. This Web page SHOULD contain information published by the End-User or an organization that the End-User is affiliated with. */\n    website?: string;\n    /** End-User's preferred e-mail address. Its value MUST conform to the RFC 5322 addr-spec syntax. */\n    email?: string;\n    /** True if the End-User's e-mail address has been verified; otherwise false. When this Claim Value is true, this means that the OP took affirmative steps to ensure that this e-mail address was controlled by the End-User at the time the verification was performed. The means by which an e-mail address is verified is context-specific, and dependent upon the trust framework or contractual agreements within which the parties are operating. */\n    email_verified?: boolean;\n    /** End-User's gender. Values defined by this specification are female and male. Other values MAY be used when neither of the defined values are applicable. */\n    gender?: string;\n    /** End-User's birthday, represented as an ISO 8601:2004 [ISO8601‑2004] YYYY-MM-DD format. The year MAY be 0000, indicating that it is omitted. To represent only the year, YYYY format is allowed. Note that depending on the underlying platform's date related function, providing just year can result in varying month and day, so the implementers need to take this factor into account to correctly process the dates. */\n    birthdate?: string;\n    /** String from zoneinfo [zoneinfo] time zone database representing the End-User's time zone. For example, Europe/Paris or America/Los_Angeles. */\n    zoneinfo?: string;\n    /** End-User's locale, represented as a BCP47 [RFC5646] language tag. This is typically an ISO 639-1 Alpha-2 [ISO639‑1] language code in lowercase and an ISO 3166-1 Alpha-2 [ISO3166‑1] country code in uppercase, separated by a dash. For example, en-US or fr-CA. As a compatibility note, some implementations have used an underscore as the separator rather than a dash, for example, en_US; */\n    locale?: string;\n    /** End-User's preferred telephone number. E.164 [E.164] is RECOMMENDED as the format of this Claim, for example, +1 (425) 555-1212 or +56 (2) 687 2400. If the phone number contains an extension, it is RECOMMENDED that the extension be represented using the RFC 3966 [RFC3966] extension syntax, for example, +1 (604) 555-1234;ext=5678. */\n    phone_number?: string;\n    /** True if the End-User's phone number has been verified; otherwise false. When this Claim Value is true, this means that the OP took affirmative steps to ensure that this phone number was controlled by the End-User at the time the verification was performed. The means by which a phone number is verified is context-specific, and dependent upon the trust framework or contractual agreements within which the parties are operating. When true, the phone_number Claim MUST be in E.164 format and any extensions MUST be represented in RFC 3966 format. */\n    phone_number_verified?: boolean;\n    /** End-User's preferred postal address. The value of the address member is a JSON structure containing some or all of the members defined in the standard.\n     *\n     * @see https://openid.net/specs/openid-connect-core-1_0.html#AddressClaim\n     */\n    address?: Record<string, unknown>;\n    /** Time the End-User's information was last updated. Its value is a JSON number representing the number of seconds from 1970-01-01T0:0:0Z as measured in UTC until the date/time. */\n    updated_at?: number;\n\n    [claim: string]: unknown;\n}\n\n/**\n * @public\n */\nexport class User {\n    /**\n     * A JSON Web Token (JWT). Only provided if `openid` scope was requested.\n     * The application can access the data decoded by using the `profile` property.\n     */\n    public id_token?: string;\n\n    /** The session state value returned from the OIDC provider. */\n    public session_state: string | null;\n\n    /**\n     * The requested access token returned from the OIDC provider. The application can use this token to\n     * authenticate itself to the secured resource.\n     */\n    public access_token: string;\n\n    /**\n     * An OAuth 2.0 refresh token. The app can use this token to acquire additional access tokens after the\n     * current access token expires. Refresh tokens are long-lived and can be used to maintain access to resources\n     * for extended periods of time.\n     */\n    public refresh_token?: string;\n\n    /** Typically \"Bearer\" */\n    public token_type: string;\n\n    /** The scopes that the requested access token is valid for. */\n    public scope?: string;\n\n    /** The claims represented by a combination of the `id_token` and the user info endpoint. */\n    public profile: UserProfile;\n\n    /** The expires at returned from the OIDC provider. */\n    public expires_at?: number;\n\n    /** custom state data set during the initial signin request */\n    public readonly state: unknown;\n\n    public constructor(args: {\n        id_token?: string;\n        session_state?: string | null;\n        access_token: string;\n        refresh_token?: string;\n        token_type: string;\n        scope?: string;\n        profile: UserProfile;\n        expires_at?: number;\n        userState?: unknown;\n    }) {\n        this.id_token = args.id_token;\n        this.session_state = args.session_state ?? null;\n        this.access_token = args.access_token;\n        this.refresh_token = args.refresh_token;\n\n        this.token_type = args.token_type;\n        this.scope = args.scope;\n        this.profile = args.profile;\n        this.expires_at = args.expires_at;\n        this.state = args.userState;\n    }\n\n    /** Computed number of seconds the access token has remaining. */\n    public get expires_in(): number | undefined {\n        if (this.expires_at === undefined) {\n            return undefined;\n        }\n        return this.expires_at - Timer.getEpochTime();\n    }\n\n    public set expires_in(value: number | undefined) {\n        if (value !== undefined) {\n            this.expires_at = Math.floor(value) + Timer.getEpochTime();\n        }\n    }\n\n    /** Computed value indicating if the access token is expired. */\n    public get expired(): boolean | undefined {\n        const expires_in = this.expires_in;\n        if (expires_in === undefined) {\n            return undefined;\n        }\n        return expires_in <= 0;\n    }\n\n    /** Array representing the parsed values from the `scope`. */\n    public get scopes(): string[] {\n        return this.scope?.split(\" \") ?? [];\n    }\n\n    public toStorageString(): string {\n        Logger.debug(\"User\", \"toStorageString\");\n        return JSON.stringify({\n            id_token: this.id_token,\n            session_state: this.session_state,\n            access_token: this.access_token,\n            refresh_token: this.refresh_token,\n            token_type: this.token_type,\n            scope: this.scope,\n            profile: this.profile,\n            expires_at: this.expires_at,\n        });\n    }\n\n    public static fromStorageString(storageString: string): User {\n        Logger.debug(\"User\", \"fromStorageString\");\n        return new User(JSON.parse(storageString));\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"./utils\";\nimport { IFrameNavigator, NavigateResponse, PopupNavigator, RedirectNavigator, PopupWindowParams, IWindow, IFrameWindowParams, RedirectParams } from \"./navigators\";\nimport { OidcClient, CreateSigninRequestArgs, CreateSignoutRequestArgs } from \"./OidcClient\";\nimport { UserManagerSettings, UserManagerSettingsStore } from \"./UserManagerSettings\";\nimport { User } from \"./User\";\nimport { UserManagerEvents } from \"./UserManagerEvents\";\nimport { SilentRenewService } from \"./SilentRenewService\";\nimport { SessionMonitor } from \"./SessionMonitor\";\nimport type { SessionStatus } from \"./SessionStatus\";\nimport type { SignoutResponse } from \"./SignoutResponse\";\nimport { ErrorResponse } from \"./ErrorResponse\";\nimport type { MetadataService } from \"./MetadataService\";\nimport { RefreshState } from \"./RefreshState\";\n\n/**\n * @public\n */\nexport type ExtraSigninRequestArgs = Pick<CreateSigninRequestArgs, \"extraQueryParams\" | \"extraTokenParams\" | \"state\">;\n/**\n * @public\n */\nexport type ExtraSignoutRequestArgs = Pick<CreateSignoutRequestArgs, \"extraQueryParams\" | \"state\">;\n\n/**\n * @public\n */\nexport type RevokeTokensTypes = UserManagerSettings[\"revokeTokenTypes\"];\n\n/**\n * @public\n */\nexport type SigninRedirectArgs = RedirectParams & ExtraSigninRequestArgs;\n\n/**\n * @public\n */\nexport type SigninPopupArgs = PopupWindowParams & ExtraSigninRequestArgs;\n\n/**\n * @public\n */\nexport type SigninSilentArgs = IFrameWindowParams & ExtraSigninRequestArgs;\n\n/**\n * @public\n */\nexport type QuerySessionStatusArgs = IFrameWindowParams & ExtraSigninRequestArgs;\n\n/**\n * @public\n */\nexport type SignoutRedirectArgs = RedirectParams & ExtraSignoutRequestArgs;\n\n/**\n * @public\n */\nexport type SignoutPopupArgs = PopupWindowParams & ExtraSignoutRequestArgs;\n\n/**\n * Provides a higher level API for signing a user in, signing out, managing the user's claims returned from the OIDC provider,\n * and managing an access token returned from the OIDC/OAuth2 provider.\n *\n * @public\n */\nexport class UserManager {\n    /** Returns the settings used to configure the `UserManager`. */\n    public readonly settings: UserManagerSettingsStore;\n    protected readonly _logger = new Logger(\"UserManager\");\n\n    protected readonly _client: OidcClient;\n    protected readonly _redirectNavigator: RedirectNavigator;\n    protected readonly _popupNavigator: PopupNavigator;\n    protected readonly _iframeNavigator: IFrameNavigator;\n    protected readonly _events: UserManagerEvents;\n    protected readonly _silentRenewService: SilentRenewService;\n    protected readonly _sessionMonitor: SessionMonitor | null;\n\n    public constructor(settings: UserManagerSettings) {\n        this.settings = new UserManagerSettingsStore(settings);\n\n        this._client = new OidcClient(settings);\n\n        this._redirectNavigator = new RedirectNavigator(this.settings);\n        this._popupNavigator = new PopupNavigator(this.settings);\n        this._iframeNavigator = new IFrameNavigator(this.settings);\n\n        this._events = new UserManagerEvents(this.settings);\n        this._silentRenewService = new SilentRenewService(this);\n\n        // order is important for the following properties; these services depend upon the events.\n        if (this.settings.automaticSilentRenew) {\n            this._logger.debug(\"ctor: automaticSilentRenew is configured, setting up silent renew\");\n            this.startSilentRenew();\n        }\n\n        this._sessionMonitor = null;\n        if (this.settings.monitorSession) {\n            this._logger.debug(\"ctor: monitorSession is configured, setting up session monitor\");\n            this._sessionMonitor = new SessionMonitor(this);\n        }\n\n    }\n\n    /** Returns an object used to register for events raised by the `UserManager`. */\n    public get events(): UserManagerEvents {\n        return this._events;\n    }\n\n    /** Returns an object used to access the metadata configuration of the OIDC provider. */\n    public get metadataService(): MetadataService {\n        return this._client.metadataService;\n    }\n\n    /**\n     * Returns promise to load the `User` object for the currently authenticated user.\n     */\n    public async getUser(): Promise<User | null> {\n        const user = await this._loadUser();\n        if (user) {\n            this._logger.info(\"getUser: user loaded\");\n            this._events.load(user, false);\n            return user;\n        }\n\n        this._logger.info(\"getUser: user not found in storage\");\n        return null;\n    }\n\n    /**\n     * Returns promise to remove from any storage the currently authenticated user.\n     */\n    public async removeUser(): Promise<void> {\n        await this.storeUser(null);\n        this._logger.info(\"removeUser: user removed from storage\");\n        this._events.unload();\n    }\n\n    /**\n     * Returns promise to trigger a redirect of the current window to the authorization endpoint.\n     */\n    public async signinRedirect(args: SigninRedirectArgs = {}): Promise<void> {\n        const {\n            redirectMethod,\n            ...requestArgs\n        } = args;\n        const handle = await this._redirectNavigator.prepare({ redirectMethod });\n        await this._signinStart({\n            request_type: \"si:r\",\n            ...requestArgs,\n        }, handle);\n        this._logger.info(\"signinRedirect: successful\");\n    }\n\n    /**\n     * Returns promise to process response from the authorization endpoint. The result of the promise is the authenticated `User`.\n     */\n    public async signinRedirectCallback(url = window.location.href): Promise<User> {\n        const user = await this._signinEnd(url);\n        if (user.profile && user.profile.sub) {\n            this._logger.info(\"signinRedirectCallback: successful, signed in sub: \", user.profile.sub);\n        }\n        else {\n            this._logger.info(\"signinRedirectCallback: no sub\");\n        }\n\n        return user;\n    }\n\n    /**\n     * Returns promise to trigger a request (via a popup window) to the authorization endpoint. The result of the promise is the authenticated `User`.\n     */\n    public async signinPopup(args: SigninPopupArgs = {}): Promise<User> {\n        const {\n            popupWindowFeatures,\n            popupWindowTarget,\n            ...requestArgs\n        } = args;\n        const url = this.settings.popup_redirect_uri || this.settings.redirect_uri;\n        if (!url) {\n            this._logger.error(\"signinPopup: No popup_redirect_uri or redirect_uri configured\");\n            throw new Error(\"No popup_redirect_uri or redirect_uri configured\");\n        }\n\n        const handle = await this._popupNavigator.prepare({ popupWindowFeatures, popupWindowTarget });\n        const user = await this._signin({\n            request_type: \"si:p\",\n            redirect_uri: url,\n            display: \"popup\",\n            ...requestArgs,\n        }, handle);\n        if (user) {\n            if (user.profile && user.profile.sub) {\n                this._logger.info(\"signinPopup: signinPopup successful, signed in sub: \", user.profile.sub);\n            }\n            else {\n                this._logger.info(\"signinPopup: no sub\");\n            }\n        }\n\n        return user;\n    }\n    /**\n     * Returns promise to notify the opening window of response from the authorization endpoint.\n     */\n    public async signinPopupCallback(url = window.location.href, keepOpen = false): Promise<void> {\n        try {\n            await this._popupNavigator.callback(url, keepOpen);\n            this._logger.info(\"signinPopupCallback: successful\");\n        }\n        catch (err) {\n            this._logger.error(\"signinPopupCallback error\", err instanceof Error ? err.message : err);\n        }\n    }\n\n    /**\n     * Returns promise to trigger a silent request (via an iframe) to the authorization endpoint.\n     * The result of the promise is the authenticated `User`.\n     */\n    public async signinSilent(args: SigninSilentArgs = {}): Promise<User | null> {\n        const {\n            silentRequestTimeoutInSeconds,\n            ...requestArgs\n        } = args;\n        // first determine if we have a refresh token, or need to use iframe\n        let user = await this._loadUser();\n        if (user?.refresh_token) {\n            this._logger.debug(\"signinSilent: using refresh token\");\n            const state = new RefreshState(user as Required<User>);\n            return await this._useRefreshToken(state);\n        }\n\n        const url = this.settings.silent_redirect_uri || this.settings.redirect_uri;\n        if (!url) {\n            this._logger.error(\"signinSilent: No silent_redirect_uri configured\");\n            throw new Error(\"No silent_redirect_uri configured\");\n        }\n\n        let verifySub: string | undefined;\n        if (user && this.settings.validateSubOnSilentRenew) {\n            this._logger.debug(\"signinSilent: subject prior to silent renew: \", user.profile.sub);\n            verifySub = user.profile.sub;\n        }\n\n        const handle = await this._iframeNavigator.prepare({ silentRequestTimeoutInSeconds });\n        user = await this._signin({\n            request_type: \"si:s\",\n            redirect_uri: url,\n            prompt: \"none\",\n            id_token_hint: this.settings.includeIdTokenInSilentRenew ? user?.id_token : undefined,\n            ...requestArgs,\n        }, handle, verifySub);\n        if (user) {\n            if (user.profile && user.profile.sub) {\n                this._logger.info(\"signinSilent: successful, signed in sub: \", user.profile.sub);\n            }\n            else {\n                this._logger.info(\"signinSilent: no sub\");\n            }\n        }\n\n        return user;\n    }\n\n    protected async _useRefreshToken(state: RefreshState): Promise<User> {\n        const response = await this._client.useRefreshToken(state);\n        const user = new User({ ...state, ...response });\n\n        await this.storeUser(user);\n        this._events.load(user);\n        return user;\n    }\n\n    /**\n     * Returns promise to notify the parent window of response from the authorization endpoint.\n     */\n    public async signinSilentCallback(url = window.location.href): Promise<void> {\n        await this._iframeNavigator.callback(url);\n        this._logger.info(\"signinSilentCallback: successful\");\n    }\n\n    public async signinCallback(url = window.location.href): Promise<User | void> {\n        const { state } = await this._client.readSigninResponseState(url);\n        switch (state.request_type) {\n            case \"si:r\":\n                return await this.signinRedirectCallback(url);\n            case \"si:p\":\n                return await this.signinPopupCallback(url);\n            case \"si:s\":\n                return await this.signinSilentCallback(url);\n            default:\n                throw new Error(\"invalid response_type in state\");\n        }\n    }\n\n    public async signoutCallback(url = window.location.href, keepOpen = false): Promise<void> {\n        const { state } = await this._client.readSignoutResponseState(url);\n        if (!state) {\n            return;\n        }\n\n        switch (state.request_type) {\n            case \"so:r\":\n                await this.signoutRedirectCallback(url);\n                break;\n            case \"so:p\":\n                await this.signoutPopupCallback(url, keepOpen);\n                break;\n            default:\n                throw new Error(\"invalid response_type in state\");\n        }\n    }\n\n    /**\n     * Returns promise to query OP for user's current signin status. Returns object with session_state and subject identifier.\n     */\n    public async querySessionStatus(args: QuerySessionStatusArgs = {}): Promise<SessionStatus | null> {\n        const {\n            silentRequestTimeoutInSeconds,\n            ...requestArgs\n        } = args;\n        const url = this.settings.silent_redirect_uri || this.settings.redirect_uri;\n        if (!url) {\n            this._logger.error(\"querySessionStatus: No silent_redirect_uri configured\");\n            throw new Error(\"No silent_redirect_uri configured\");\n        }\n\n        const handle = await this._iframeNavigator.prepare({ silentRequestTimeoutInSeconds });\n        const navResponse = await this._signinStart({\n            request_type: \"si:s\", // this acts like a signin silent\n            redirect_uri: url,\n            prompt: \"none\",\n            response_type: this.settings.query_status_response_type,\n            scope: \"openid\",\n            skipUserInfo: true,\n            ...requestArgs,\n        }, handle);\n        try {\n            const signinResponse = await this._client.processSigninResponse(navResponse.url);\n            this._logger.debug(\"querySessionStatus: got signin response\");\n\n            if (signinResponse.session_state && signinResponse.profile.sub) {\n                this._logger.info(\"querySessionStatus: querySessionStatus success for sub: \", signinResponse.profile.sub);\n                return {\n                    session_state: signinResponse.session_state,\n                    sub: signinResponse.profile.sub,\n                    sid: signinResponse.profile.sid,\n                };\n            }\n\n            this._logger.info(\"querySessionStatus: successful, user not authenticated\");\n            return null;\n        }\n        catch (err) {\n            if (this.settings.monitorAnonymousSession && err instanceof ErrorResponse) {\n                switch (err.error) {\n                    case \"login_required\":\n                    case \"consent_required\":\n                    case \"interaction_required\":\n                    case \"account_selection_required\":\n                        this._logger.info(\"querySessionStatus: querySessionStatus success for anonymous user\");\n                        return {\n                            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                            session_state: err.session_state!,\n                        };\n                }\n            }\n            throw err;\n        }\n    }\n\n    protected async _signin(args: CreateSigninRequestArgs, handle: IWindow, verifySub?: string): Promise<User> {\n        const navResponse = await this._signinStart(args, handle);\n        return await this._signinEnd(navResponse.url, verifySub);\n    }\n    protected async _signinStart(args: CreateSigninRequestArgs, handle: IWindow): Promise<NavigateResponse> {\n        this._logger.debug(\"_signinStart: got navigator window handle\");\n\n        try {\n            const signinRequest = await this._client.createSigninRequest(args);\n            this._logger.debug(\"_signinStart: got signin request\");\n\n            return await handle.navigate({\n                url: signinRequest.url,\n                state: signinRequest.state.id,\n                response_mode: signinRequest.state.response_mode,\n            });\n        }\n        catch (err) {\n            this._logger.debug(\"_signinStart: Error after preparing navigator, closing navigator window\");\n            handle.close();\n            throw err;\n        }\n    }\n    protected async _signinEnd(url: string, verifySub?: string): Promise<User> {\n        const signinResponse = await this._client.processSigninResponse(url);\n        this._logger.debug(\"_signinEnd: got signin response\");\n\n        const user = new User(signinResponse);\n        if (verifySub) {\n            if (verifySub !== user.profile.sub) {\n                this._logger.debug(\"_signinEnd: current user does not match user returned from signin. sub from signin: \", user.profile.sub);\n                throw new Error(\"login_required\");\n            }\n            this._logger.debug(\"_signinEnd: current user matches user returned from signin\");\n        }\n\n        await this.storeUser(user);\n        this._logger.debug(\"_signinEnd: user stored\");\n        this._events.load(user);\n\n        return user;\n    }\n\n    /**\n     * Returns promise to trigger a redirect of the current window to the end session endpoint.\n     */\n    public async signoutRedirect(args: SignoutRedirectArgs = {}): Promise<void> {\n        const {\n            redirectMethod,\n            ...requestArgs\n        } = args;\n        const handle = await this._redirectNavigator.prepare({ redirectMethod });\n        await this._signoutStart({\n            request_type: \"so:r\",\n            post_logout_redirect_uri: this.settings.post_logout_redirect_uri,\n            ...requestArgs,\n        }, handle);\n        this._logger.info(\"signoutRedirect: successful\");\n    }\n\n    /**\n     * Returns promise to process response from the end session endpoint.\n     */\n    public async signoutRedirectCallback(url = window.location.href): Promise<SignoutResponse> {\n        const response = await this._signoutEnd(url);\n        this._logger.info(\"signoutRedirectCallback: successful\");\n        return response;\n    }\n\n    /**\n     * Returns promise to trigger a redirect of a popup window window to the end session endpoint.\n     */\n    public async signoutPopup(args: SignoutPopupArgs = {}): Promise<void> {\n        const {\n            popupWindowFeatures,\n            popupWindowTarget,\n            ...requestArgs\n        } = args;\n        const url = this.settings.popup_post_logout_redirect_uri || this.settings.post_logout_redirect_uri;\n\n        const handle = await this._popupNavigator.prepare({ popupWindowFeatures, popupWindowTarget });\n        await this._signout({\n            request_type: \"so:p\",\n            post_logout_redirect_uri: url,\n            // we're putting a dummy entry in here because we\n            // need a unique id from the state for notification\n            // to the parent window, which is necessary if we\n            // plan to return back to the client after signout\n            // and so we can close the popup after signout\n            state: url == null ? undefined : {},\n            ...requestArgs,\n        }, handle);\n        this._logger.info(\"signoutPopup: successful\");\n    }\n\n    /**\n     * Returns promise to process response from the end session endpoint from a popup window.\n     */\n    public async signoutPopupCallback(url = window.location.href, keepOpen = false): Promise<void> {\n        await this._popupNavigator.callback(url, keepOpen);\n        this._logger.info(\"signoutPopupCallback: successful\");\n    }\n\n    protected async _signout(args: CreateSignoutRequestArgs, handle: IWindow): Promise<SignoutResponse> {\n        const navResponse = await this._signoutStart(args, handle);\n        return await this._signoutEnd(navResponse.url);\n    }\n    protected async _signoutStart(args: CreateSignoutRequestArgs = {}, handle: IWindow): Promise<NavigateResponse> {\n        this._logger.debug(\"_signoutStart: got navigator window handle\");\n\n        try {\n            const user = await this._loadUser();\n            this._logger.debug(\"_signoutStart: loaded current user from storage\");\n\n            if (this.settings.revokeTokensOnSignout) {\n                await this._revokeInternal(user);\n            }\n\n            const id_token = args.id_token_hint || user && user.id_token;\n            if (id_token) {\n                this._logger.debug(\"_signoutStart: Setting id_token into signout request\");\n                args.id_token_hint = id_token;\n            }\n\n            await this.removeUser();\n            this._logger.debug(\"_signoutStart: user removed, creating signout request\");\n\n            const signoutRequest = await this._client.createSignoutRequest(args);\n            this._logger.debug(\"_signoutStart: got signout request\");\n\n            return await handle.navigate({\n                url: signoutRequest.url,\n                state: signoutRequest.state?.id,\n            });\n        }\n        catch (err) {\n            this._logger.debug(\"_signoutStart: Error after preparing navigator, closing navigator window\");\n            handle.close();\n            throw err;\n        }\n    }\n    protected async _signoutEnd(url: string): Promise<SignoutResponse> {\n        const signoutResponse = await this._client.processSignoutResponse(url);\n        this._logger.debug(\"_signoutEnd: got signout response\");\n\n        return signoutResponse;\n    }\n\n    public async revokeTokens(types?: RevokeTokensTypes): Promise<void> {\n        const user = await this._loadUser();\n        await this._revokeInternal(user, types);\n    }\n\n    protected async _revokeInternal(user: User | null, types = this.settings.revokeTokenTypes): Promise<void> {\n        if (!user) return;\n\n        const typesPresent = types.filter(type => typeof user[type] === \"string\");\n\n        if (!typesPresent.length) {\n            this._logger.debug(\"revokeTokens: no need to revoke due to no token(s)\");\n            return;\n        }\n\n        // don't Promise.all, order matters\n        for (const type of typesPresent) {\n            await this._client.revokeToken(\n                user[type]!, // eslint-disable-line @typescript-eslint/no-non-null-assertion\n                type,\n            );\n            this._logger.info(`revokeTokens: ${type} revoked successfully`);\n            if (type !== \"access_token\") {\n                user[type] = null as never;\n            }\n        }\n\n        await this.storeUser(user);\n        this._logger.debug(\"revokeTokens: user stored\");\n        this._events.load(user);\n    }\n\n    /**\n     * Enables silent renew for the `UserManager`.\n     */\n    public startSilentRenew(): void {\n        void this._silentRenewService.start();\n    }\n\n    /**\n     * Disables silent renew for the `UserManager`.\n     */\n    public stopSilentRenew(): void {\n        this._silentRenewService.stop();\n    }\n\n    protected get _userStoreKey(): string {\n        return `user:${this.settings.authority}:${this.settings.client_id}`;\n    }\n\n    protected async _loadUser(): Promise<User | null> {\n        const storageString = await this.settings.userStore.get(this._userStoreKey);\n        if (storageString) {\n            this._logger.debug(\"_loadUser: user storageString loaded\");\n            return User.fromStorageString(storageString);\n        }\n\n        this._logger.debug(\"_loadUser: no user storageString\");\n        return null;\n    }\n\n    public async storeUser(user: User | null): Promise<void> {\n        if (user) {\n            this._logger.debug(\"storeUser: storing user\");\n            const storageString = user.toStorageString();\n            await this.settings.userStore.set(this._userStoreKey, storageString);\n        }\n        else {\n            this._logger.debug(\"storeUser: removing user\");\n            await this.settings.userStore.remove(this._userStoreKey);\n        }\n    }\n\n    /**\n     * Removes stale state entries in storage for incomplete authorize requests.\n     */\n    public async clearStaleState(): Promise<void> {\n        await this._client.clearStaleState();\n    }\n}\n","export * from \"./IFrameNavigator\";\nexport * from \"./IFrameWindow\";\nexport * from \"./INavigator\";\nexport * from \"./IWindow\";\nexport * from \"./PopupNavigator\";\nexport * from \"./PopupWindow\";\nexport * from \"./RedirectNavigator\";\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"../utils\";\nimport type { UserManagerSettingsStore } from \"../UserManagerSettings\";\nimport { IFrameWindow, IFrameWindowParams } from \"./IFrameWindow\";\nimport type { INavigator } from \"./INavigator\";\n\n/**\n * @internal\n */\nexport class IFrameNavigator implements INavigator {\n    private readonly _logger = new Logger(\"IFrameNavigator\");\n\n    constructor(private _settings: UserManagerSettingsStore) {}\n\n    public async prepare({\n        silentRequestTimeoutInSeconds = this._settings.silentRequestTimeoutInSeconds,\n    }: IFrameWindowParams): Promise<IFrameWindow> {\n        return new IFrameWindow({ silentRequestTimeoutInSeconds });\n    }\n\n    public async callback(url: string): Promise<void> {\n        this._logger.debug(\"callback\");\n        IFrameWindow.notifyParent(url);\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"../utils\";\nimport type { NavigateParams, NavigateResponse } from \"./IWindow\";\nimport { AbstractChildWindow } from \"./AbstractChildWindow\";\n\nconst defaultTimeoutInSeconds = 10;\n\n/**\n * @public\n */\nexport interface IFrameWindowParams {\n    silentRequestTimeoutInSeconds?: number;\n}\n\n/**\n * @internal\n */\nexport class IFrameWindow extends AbstractChildWindow {\n    protected readonly _logger = new Logger(\"IFrameWindow\");\n    private _frame: HTMLIFrameElement | null;\n    private _timeoutInSeconds: number;\n\n    public constructor({\n        silentRequestTimeoutInSeconds = defaultTimeoutInSeconds,\n    }: IFrameWindowParams) {\n        super();\n        this._timeoutInSeconds = silentRequestTimeoutInSeconds;\n\n        this._frame = window.document.createElement(\"iframe\");\n        this._window = this._frame.contentWindow;\n\n        // shotgun approach\n        this._frame.style.visibility = \"hidden\";\n        this._frame.style.position = \"fixed\";\n        this._frame.style.left = \"-1000px\";\n        this._frame.style.top = \"0\";\n        this._frame.width = \"0\";\n        this._frame.height = \"0\";\n\n        window.document.body.appendChild(this._frame);\n        this._window = this._frame.contentWindow;\n    }\n\n    public async navigate(params: NavigateParams): Promise<NavigateResponse> {\n        this._logger.debug(\"navigate: Using timeout of:\", this._timeoutInSeconds);\n        const timer = setTimeout(() => this._abort.raise(new Error(\"IFrame timed out without a response\")), this._timeoutInSeconds * 1000);\n        this._disposeHandlers.add(() => clearTimeout(timer));\n\n        return await super.navigate(params);\n    }\n\n    close(): void {\n        if (this._frame) {\n            if (this._frame.parentNode) {\n                this._frame.parentNode.removeChild(this._frame);\n            }\n            this._abort.raise(new Error(\"IFrame removed from DOM\"));\n            this._frame = null;\n        }\n        this._window = null;\n    }\n\n    public static notifyParent(url: string): void {\n        return super._notifyParent(window.parent, url);\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Event, Logger, UrlUtils } from \"../utils\";\nimport type { IWindow, NavigateParams, NavigateResponse } from \"./IWindow\";\n\nconst messageSource = \"oidc-client\";\n\ninterface MessageData {\n    source: string;\n    url: string;\n    keepOpen: boolean;\n}\n\n/**\n * Window implementation which resolves via communication from a child window\n * via the `Window.postMessage()` interface.\n *\n * @internal\n */\nexport abstract class AbstractChildWindow implements IWindow {\n    protected abstract readonly _logger: Logger;\n    protected readonly _abort = new Event<[reason: Error]>(\"Window navigation aborted\");\n    protected readonly _disposeHandlers = new Set<() => void>();\n\n    protected _window: WindowProxy | null = null;\n\n    public async navigate(params: NavigateParams): Promise<NavigateResponse> {\n        if (!this._window) {\n            throw new Error(\"Attempted to navigate on a disposed window\");\n        }\n\n        this._logger.debug(\"navigate: Setting URL in window\");\n        this._window.location.replace(params.url);\n\n        const { url, keepOpen } = await new Promise<MessageData>((resolve, reject) => {\n            const listener = (e: MessageEvent) => {\n                const data: MessageData | undefined = e.data;\n                if (e.origin !== window.location.origin || data?.source !== messageSource) {\n                    // silently discard events not intended for us\n                    return;\n                }\n                try {\n                    const state = UrlUtils.readParams(data.url, params.response_mode).get(\"state\");\n                    if (!state) {\n                        this._logger.warn(\"navigate: no state found in response url\");\n                    }\n                    if (e.source !== this._window && state !== params.state) {\n                        // MessageEvent source is a relatively modern feature, we can't rely on it\n                        // so we also inspect the payload for a matching state key as an alternative\n                        return;\n                    }\n                }\n                catch (err) {\n                    this._dispose();\n                    reject(new Error(\"Invalid response from window\"));\n                }\n                resolve(data);\n            };\n            window.addEventListener(\"message\", listener, false);\n            this._disposeHandlers.add(() => window.removeEventListener(\"message\", listener, false));\n            this._disposeHandlers.add(this._abort.addHandler((reason) => {\n                this._dispose();\n                reject(reason);\n            }));\n        });\n        this._logger.debug(\"navigate: Got response from window\");\n        this._dispose();\n\n        if (!keepOpen) {\n            this.close();\n        }\n\n        return { url };\n    }\n\n    public abstract close(): void;\n\n    private _dispose(): void {\n        this._logger.debug(\"_dispose\");\n\n        for (const dispose of this._disposeHandlers) {\n            dispose();\n        }\n        this._disposeHandlers.clear();\n    }\n\n    protected static _notifyParent(parent: Window, url: string, keepOpen = false): void {\n        parent.postMessage({\n            source: messageSource,\n            url,\n            keepOpen,\n        } as MessageData, window.location.origin);\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport type { IWindow } from \"./IWindow\";\n\n/**\n * @internal\n */\nexport interface INavigator {\n    prepare(params: unknown): Promise<IWindow>;\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n/**\n * @internal\n */\nexport interface NavigateParams {\n    url: string;\n    /** The request \"state\" parameter. For sign out requests, this parameter is optional. */\n    state?: string;\n    response_mode?: \"query\" | \"fragment\";\n}\n\n/**\n * @internal\n */\nexport interface NavigateResponse {\n    url: string;\n}\n\n/**\n * @internal\n */\nexport interface IWindow {\n    navigate(params: NavigateParams): Promise<NavigateResponse>;\n    close(): void;\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"../utils\";\nimport { PopupWindow, PopupWindowParams } from \"./PopupWindow\";\nimport type { INavigator } from \"./INavigator\";\nimport type { UserManagerSettingsStore } from \"../UserManagerSettings\";\n\n/**\n * @internal\n */\nexport class PopupNavigator implements INavigator {\n    private readonly _logger = new Logger(\"PopupNavigator\");\n\n    constructor(private _settings: UserManagerSettingsStore) {}\n\n    public async prepare({\n        popupWindowFeatures = this._settings.popupWindowFeatures,\n        popupWindowTarget = this._settings.popupWindowTarget,\n    }: PopupWindowParams): Promise<PopupWindow> {\n        return new PopupWindow({ popupWindowFeatures, popupWindowTarget });\n    }\n\n    public async callback(url: string, keepOpen = false): Promise<void> {\n        this._logger.debug(\"callback\");\n\n        PopupWindow.notifyOpener(url, keepOpen);\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger, PopupUtils, PopupWindowFeatures } from \"../utils\";\nimport { AbstractChildWindow } from \"./AbstractChildWindow\";\nimport type { NavigateParams, NavigateResponse } from \"./IWindow\";\n\nconst checkForPopupClosedInterval = 500;\nconst defaultPopupWindowFeatures: PopupWindowFeatures = {\n    location: false,\n    toolbar: false,\n    height: 640,\n};\n\nconst defaultPopupTarget = \"_blank\";\n\n/**\n * @public\n */\nexport interface PopupWindowParams {\n    popupWindowFeatures?: PopupWindowFeatures;\n    popupWindowTarget?: string;\n}\n\n/**\n * @internal\n */\nexport class PopupWindow extends AbstractChildWindow {\n    protected readonly _logger = new Logger(\"PopupWindow\");\n\n    protected _window: WindowProxy | null;\n\n    public constructor({\n        popupWindowTarget = defaultPopupTarget,\n        popupWindowFeatures = {},\n    }: PopupWindowParams) {\n        super();\n        const centeredPopup = PopupUtils.center({ ...defaultPopupWindowFeatures, ...popupWindowFeatures });\n        this._window = window.open(undefined, popupWindowTarget, PopupUtils.serialize(centeredPopup));\n    }\n\n    public async navigate(params: NavigateParams): Promise<NavigateResponse> {\n        this._window?.focus();\n\n        const popupClosedInterval = setInterval(() => {\n            if (!this._window || this._window.closed) {\n                this._abort.raise(new Error(\"Popup closed by user\"));\n            }\n        }, checkForPopupClosedInterval);\n        this._disposeHandlers.add(() => clearInterval(popupClosedInterval));\n\n        return await super.navigate(params);\n    }\n\n    public close(): void {\n        if (this._window) {\n            if (!this._window.closed) {\n                this._window.close();\n            }\n            this._abort.raise(new Error(\"Popup closed\"));\n        }\n        this._window = null;\n    }\n\n    public static notifyOpener(url: string, keepOpen: boolean): void {\n        if (!window.opener) {\n            throw new Error(\"No window.opener. Can't complete notification.\");\n        }\n        return super._notifyParent(window.opener, url, keepOpen);\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"../utils\";\nimport type { UserManagerSettingsStore } from \"../UserManagerSettings\";\nimport type { INavigator } from \"./INavigator\";\nimport type { IWindow } from \"./IWindow\";\n\n/**\n * @public\n */\nexport interface RedirectParams {\n    redirectMethod?: \"replace\" | \"assign\";\n}\n\n/**\n * @internal\n */\nexport class RedirectNavigator implements INavigator {\n    private readonly _logger = new Logger(\"RedirectNavigator\");\n\n    constructor(private _settings: UserManagerSettingsStore) {}\n\n    public async prepare({\n        redirectMethod = this._settings.redirectMethod,\n    }: RedirectParams): Promise<IWindow> {\n        const redirect = window.location[redirectMethod].bind(window.location) as (url: string) => never;\n        return {\n            navigate: (params) => redirect(params.url),\n            close: () => this._logger.warn(\"close: cannot close the current window\"),\n        };\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { OidcClientSettings, OidcClientSettingsStore } from \"./OidcClientSettings\";\nimport type { PopupWindowFeatures } from \"./utils\";\nimport { WebStorageStateStore } from \"./WebStorageStateStore\";\nimport { InMemoryWebStorage } from \"./InMemoryWebStorage\";\n\nconst DefaultAccessTokenExpiringNotificationTimeInSeconds = 60;\nconst DefaultCheckSessionIntervalInSeconds = 2;\n\n/**\n * The settings used to configure the {@link UserManager}.\n *\n * @public\n */\nexport interface UserManagerSettings extends OidcClientSettings {\n    /** The URL for the page containing the call to signinPopupCallback to handle the callback from the OIDC/OAuth2 */\n    popup_redirect_uri?: string;\n    popup_post_logout_redirect_uri?: string;\n    /**\n     * The features parameter to window.open for the popup signin window. By default, the popup is\n     * placed centered in front of the window opener.\n     * (default: \\{ location: false, menubar: false, height: 640 \\})\n     */\n    popupWindowFeatures?: PopupWindowFeatures;\n    /** The target parameter to window.open for the popup signin window (default: \"_blank\") */\n    popupWindowTarget?: string;\n    /** The methods window.location method used to redirect (default: \"assign\") */\n    redirectMethod?: \"replace\" | \"assign\";\n\n    /** The URL for the page containing the code handling the silent renew */\n    silent_redirect_uri?: string;\n    /** Number of seconds to wait for the silent renew to return before assuming it has failed or timed out (default: 10) */\n    silentRequestTimeoutInSeconds?: number;\n    /** Flag to indicate if there should be an automatic attempt to renew the access token prior to its expiration (default: true) */\n    automaticSilentRenew?: boolean;\n    /** Flag to validate user.profile.sub in silent renew calls (default: true) */\n    validateSubOnSilentRenew?: boolean;\n    /** Flag to control if id_token is included as id_token_hint in silent renew calls (default: false) */\n    includeIdTokenInSilentRenew?: boolean;\n\n    /** Will raise events for when user has performed a signout at the OP (default: false) */\n    monitorSession?: boolean;\n    monitorAnonymousSession?: boolean;\n    /** Interval in seconds to check the user's session (default: 2) */\n    checkSessionIntervalInSeconds?: number;\n    query_status_response_type?: string;\n    stopCheckSessionOnError?: boolean;\n\n    /**\n     * The `token_type_hint`s to pass to the authority server by default (default: [\"access_token\", \"refresh_token\"])\n     *\n     * Token types will be revoked in the same order as they are given here.\n     */\n    revokeTokenTypes?: (\"access_token\" | \"refresh_token\")[];\n    /** Will invoke the revocation endpoint on signout if there is an access token for the user (default: false) */\n    revokeTokensOnSignout?: boolean;\n    /** The number of seconds before an access token is to expire to raise the accessTokenExpiring event (default: 60) */\n    accessTokenExpiringNotificationTimeInSeconds?: number;\n\n    /**\n     * Storage object used to persist User for currently authenticated user (default: window.sessionStorage, InMemoryWebStorage iff no window).\n     *  E.g. `userStore: new WebStorageStateStore({ store: window.localStorage })`\n     */\n    userStore?: WebStorageStateStore;\n}\n\n/**\n * The settings with defaults applied of the {@link UserManager}.\n * @see {@link UserManagerSettings}\n *\n * @public\n */\nexport class UserManagerSettingsStore extends OidcClientSettingsStore {\n    public readonly popup_redirect_uri: string | undefined;\n    public readonly popup_post_logout_redirect_uri: string | undefined;\n    public readonly popupWindowFeatures: PopupWindowFeatures | undefined;\n    public readonly popupWindowTarget: string | undefined;\n    public readonly redirectMethod: \"replace\" | \"assign\";\n\n    public readonly silent_redirect_uri: string | undefined;\n    public readonly silentRequestTimeoutInSeconds: number | undefined;\n    public readonly automaticSilentRenew: boolean;\n    public readonly validateSubOnSilentRenew: boolean;\n    public readonly includeIdTokenInSilentRenew: boolean;\n\n    public readonly monitorSession: boolean;\n    public readonly monitorAnonymousSession: boolean;\n    public readonly checkSessionIntervalInSeconds: number;\n    public readonly query_status_response_type: string | undefined;\n    public readonly stopCheckSessionOnError: boolean;\n\n    public readonly revokeTokenTypes: (\"access_token\" | \"refresh_token\")[];\n    public readonly revokeTokensOnSignout: boolean;\n    public readonly accessTokenExpiringNotificationTimeInSeconds: number;\n\n    public readonly userStore: WebStorageStateStore;\n\n    public constructor(args: UserManagerSettings) {\n        const {\n            popup_redirect_uri,\n            popup_post_logout_redirect_uri,\n            popupWindowFeatures,\n            popupWindowTarget,\n            redirectMethod = \"assign\",\n\n            silent_redirect_uri,\n            silentRequestTimeoutInSeconds,\n            automaticSilentRenew = true,\n            validateSubOnSilentRenew = true,\n            includeIdTokenInSilentRenew = false,\n\n            monitorSession = false,\n            monitorAnonymousSession = false,\n            checkSessionIntervalInSeconds = DefaultCheckSessionIntervalInSeconds,\n            query_status_response_type,\n            stopCheckSessionOnError = true,\n\n            revokeTokenTypes = [\"access_token\", \"refresh_token\"],\n            revokeTokensOnSignout = false,\n            accessTokenExpiringNotificationTimeInSeconds = DefaultAccessTokenExpiringNotificationTimeInSeconds,\n\n            userStore,\n        } = args;\n\n        super(args);\n\n        this.popup_redirect_uri = popup_redirect_uri;\n        this.popup_post_logout_redirect_uri = popup_post_logout_redirect_uri;\n        this.popupWindowFeatures = popupWindowFeatures;\n        this.popupWindowTarget = popupWindowTarget;\n        this.redirectMethod = redirectMethod;\n\n        this.silent_redirect_uri = silent_redirect_uri;\n        this.silentRequestTimeoutInSeconds = silentRequestTimeoutInSeconds;\n        this.automaticSilentRenew = automaticSilentRenew;\n        this.validateSubOnSilentRenew = validateSubOnSilentRenew;\n        this.includeIdTokenInSilentRenew = includeIdTokenInSilentRenew;\n\n        this.monitorSession = monitorSession;\n        this.monitorAnonymousSession = monitorAnonymousSession;\n        this.checkSessionIntervalInSeconds = checkSessionIntervalInSeconds;\n        this.stopCheckSessionOnError = stopCheckSessionOnError;\n        if (query_status_response_type) {\n            this.query_status_response_type = query_status_response_type;\n        }\n        else {\n            this.query_status_response_type = \"code\";\n        }\n\n        this.revokeTokenTypes = revokeTokenTypes;\n        this.revokeTokensOnSignout = revokeTokensOnSignout;\n        this.accessTokenExpiringNotificationTimeInSeconds = accessTokenExpiringNotificationTimeInSeconds;\n\n        if (userStore) {\n            this.userStore = userStore;\n        }\n        else {\n            const store = typeof window !== \"undefined\" ? window.sessionStorage : new InMemoryWebStorage();\n            this.userStore = new WebStorageStateStore({ store });\n        }\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger, Event } from \"./utils\";\nimport { AccessTokenEvents } from \"./AccessTokenEvents\";\nimport type { UserManagerSettingsStore } from \"./UserManagerSettings\";\nimport type { User } from \"./User\";\n\n/**\n * @public\n */\nexport type UserLoadedCallback = (user: User) => Promise<void> | void;\n/**\n * @public\n */\nexport type UserUnloadedCallback = () => Promise<void> | void;\n/**\n * @public\n */\nexport type SilentRenewErrorCallback = (error: Error) => Promise<void> | void;\n/**\n * @public\n */\nexport type UserSignedInCallback = () => Promise<void> | void;\n/**\n * @public\n */\nexport type UserSignedOutCallback = () => Promise<void> | void;\n/**\n * @public\n */\nexport type UserSessionChangedCallback = () => Promise<void> | void;\n\n/**\n * @public\n */\nexport class UserManagerEvents extends AccessTokenEvents {\n    protected readonly _logger = new Logger(\"UserManagerEvents\");\n\n    private readonly _userLoaded = new Event<[User]>(\"User loaded\");\n    private readonly _userUnloaded = new Event<[]>(\"User unloaded\");\n    private readonly _silentRenewError = new Event<[Error]>(\"Silent renew error\");\n    private readonly _userSignedIn = new Event<[]>(\"User signed in\");\n    private readonly _userSignedOut = new Event<[]>(\"User signed out\");\n    private readonly _userSessionChanged = new Event<[]>(\"User session changed\");\n\n    public constructor(settings: UserManagerSettingsStore) {\n        super({ expiringNotificationTimeInSeconds: settings.accessTokenExpiringNotificationTimeInSeconds });\n    }\n\n    public load(user: User, raiseEvent=true): void {\n        this._logger.debug(\"load\");\n        super.load(user);\n        if (raiseEvent) {\n            this._userLoaded.raise(user);\n        }\n    }\n    public unload(): void {\n        this._logger.debug(\"unload\");\n        super.unload();\n        this._userUnloaded.raise();\n    }\n\n    /**\n     * Add callback: Raised when a user session has been established (or re-established).\n     */\n    public addUserLoaded(cb: UserLoadedCallback): () => void {\n        return this._userLoaded.addHandler(cb);\n    }\n    /**\n     * Remove callback: Raised when a user session has been established (or re-established).\n     */\n    public removeUserLoaded(cb: UserLoadedCallback): void {\n        return this._userLoaded.removeHandler(cb);\n    }\n\n    /**\n     * Add callback: Raised when a user session has been terminated.\n     */\n    public addUserUnloaded(cb: UserUnloadedCallback): () => void {\n        return this._userUnloaded.addHandler(cb);\n    }\n    /**\n     * Remove callback: Raised when a user session has been terminated.\n     */\n    public removeUserUnloaded(cb: UserUnloadedCallback): void {\n        return this._userUnloaded.removeHandler(cb);\n    }\n\n    /**\n     * Add callback: Raised when the automatic silent renew has failed.\n     */\n    public addSilentRenewError(cb: SilentRenewErrorCallback): () => void {\n        return this._silentRenewError.addHandler(cb);\n    }\n    /**\n     * Remove callback: Raised when the automatic silent renew has failed.\n     */\n    public removeSilentRenewError(cb: SilentRenewErrorCallback): void {\n        return this._silentRenewError.removeHandler(cb);\n    }\n    /**\n     * @internal\n     */\n    public _raiseSilentRenewError(e: Error): void {\n        this._logger.debug(\"_raiseSilentRenewError\", e.message);\n        this._silentRenewError.raise(e);\n    }\n\n    /**\n     * Add callback: Raised when the user is signed in.\n     */\n    public addUserSignedIn(cb: UserSignedInCallback): () => void {\n        return this._userSignedIn.addHandler(cb);\n    }\n    /**\n     * Remove callback: Raised when the user is signed in.\n     */\n    public removeUserSignedIn(cb: UserSignedInCallback): void {\n        this._userSignedIn.removeHandler(cb);\n    }\n    /**\n     * @internal\n     */\n    public _raiseUserSignedIn(): void {\n        this._logger.debug(\"_raiseUserSignedIn\");\n        this._userSignedIn.raise();\n    }\n\n    /**\n     * Add callback: Raised when the user's sign-in status at the OP has changed.\n     */\n    public addUserSignedOut(cb: UserSignedOutCallback): () => void {\n        return this._userSignedOut.addHandler(cb);\n    }\n    /**\n     * Remove callback: Raised when the user's sign-in status at the OP has changed.\n     */\n    public removeUserSignedOut(cb: UserSignedOutCallback): void {\n        this._userSignedOut.removeHandler(cb);\n    }\n    /**\n     * @internal\n     */\n    public _raiseUserSignedOut(): void {\n        this._logger.debug(\"_raiseUserSignedOut\");\n        this._userSignedOut.raise();\n    }\n\n    /**\n     * Add callback: Raised when the user session changed (when `monitorSession` is set)\n     */\n    public addUserSessionChanged(cb: UserSessionChangedCallback): () => void {\n        return this._userSessionChanged.addHandler(cb);\n    }\n    /**\n     * Remove callback: Raised when the user session changed (when `monitorSession` is set)\n     */\n    public removeUserSessionChanged(cb: UserSessionChangedCallback): void {\n        this._userSessionChanged.removeHandler(cb);\n    }\n    /**\n     * @internal\n     */\n    public _raiseUserSessionChanged(): void {\n        this._logger.debug(\"_raiseUserSessionChanged\");\n        this._userSessionChanged.raise();\n    }\n}\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"./utils\";\nimport type { UserManager } from \"./UserManager\";\nimport type { AccessTokenCallback } from \"./AccessTokenEvents\";\n\n/**\n * @internal\n */\nexport class SilentRenewService {\n    protected _logger = new Logger(\"SilentRenewService\");\n    private _isStarted = false;\n\n    public constructor(private _userManager: UserManager) {}\n\n    public async start(): Promise<void> {\n        if (!this._isStarted) {\n            this._isStarted = true;\n            this._userManager.events.addAccessTokenExpiring(this._tokenExpiring);\n\n            // this will trigger loading of the user so the expiring events can be initialized\n            try {\n                await this._userManager.getUser();\n                // deliberate nop\n            }\n            catch (err) {\n                // catch to suppress errors since we're in a ctor\n                this._logger.error(\"start: Error from getUser:\", err instanceof Error ? err.message : err);\n            }\n        }\n    }\n\n    public stop(): void {\n        if (this._isStarted) {\n            this._userManager.events.removeAccessTokenExpiring(this._tokenExpiring);\n            this._isStarted = false;\n        }\n    }\n\n    protected _tokenExpiring: AccessTokenCallback = () => {\n        this._userManager.signinSilent()\n            .then(() => {\n                this._logger.debug(\"_tokenExpiring: Silent token renewal successful\");\n            })\n            .catch((err) => {\n                const error = err instanceof Error ? err : new Error(\"Silent renew failed\");\n                this._logger.error(\"_tokenExpiring: Error from signinSilent:\", error.message);\n                this._userManager.events._raiseSilentRenewError(error);\n            });\n    };\n}\n","import type { State } from \"./State\";\n\n/**\n * Fake state store implementation necessary for validating refresh token requests.\n *\n * @internal\n */\nexport class RefreshState implements State {\n    public readonly id = undefined as never;\n    public readonly created = undefined as never;\n    public readonly request_type = undefined;\n    public readonly data: unknown;\n\n    public readonly refresh_token: string;\n    public readonly id_token: string;\n    public readonly scope: string;\n\n    constructor(args: {\n        refresh_token: string;\n        id_token: string;\n        scope: string;\n        state?: unknown;\n    }) {\n        this.refresh_token = args.refresh_token;\n        this.id_token = args.id_token;\n        this.scope = args.scope;\n        this.data = args.state;\n    }\n\n    public toStorageString(): string {\n        throw new Error(\"This method was called in error - refresh requests do not store persistent state.\");\n    }\n}\n","// @ts-expect-error avoid enabling resolveJsonModule to keep build process simple\nimport { version } from \"../package.json\";\n\n/**\n * @public\n */\nexport const Version: string = version;\n","{\n  \"name\": \"oidc-client-ts\",\n  \"version\": \"2.0.0-rc.3\",\n  \"description\": \"OpenID Connect (OIDC) & OAuth2 client library\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git+https://github.com:authts/oidc-client-ts.git\"\n  },\n  \"homepage\": \"https://github.com/authts/oidc-client-ts#readme\",\n  \"license\": \"Apache-2.0\",\n  \"main\": \"dist/umd/oidc-client-ts.js\",\n  \"types\": \"dist/types/oidc-client-ts.d.ts\",\n  \"exports\": {\n    \".\": {\n      \"import\": \"./dist/esm/oidc-client-ts.js\",\n      \"require\": \"./dist/umd/oidc-client-ts.js\"\n    },\n    \"./package.json\": \"./package.json\"\n  },\n  \"workspaces\": [\n    \"samples/*\",\n    \"website\"\n  ],\n  \"files\": [\n    \"dist\"\n  ],\n  \"keywords\": [\n    \"authentication\",\n    \"oauth2\",\n    \"oidc\",\n    \"openid\",\n    \"OpenID Connect\"\n  ],\n  \"scripts\": {\n    \"build\": \"node scripts/build.js && npm run build-types\",\n    \"build-types\": \"tsc -p tsconfig.build.json && api-extractor run\",\n    \"clean\": \"git clean -fdX dist lib *.tsbuildinfo\",\n    \"prepack\": \"npm run build\",\n    \"test\": \"tsc && jest\",\n    \"typedoc\": \"typedoc\",\n    \"lint\": \"eslint --max-warnings=0 --cache .\",\n    \"prepare\": \"husky install\"\n  },\n  \"dependencies\": {\n    \"crypto-js\": \"^4.1.1\",\n    \"jwt-decode\": \"^3.1.2\"\n  },\n  \"devDependencies\": {\n    \"@microsoft/api-extractor\": \"^7.18.10\",\n    \"@testing-library/jest-dom\": \"^5.5.0\",\n    \"@types/crypto-js\": \"^4.0.2\",\n    \"@types/jest\": \"^27.0.2\",\n    \"@typescript-eslint/eslint-plugin\": \"^5.8.0\",\n    \"@typescript-eslint/parser\": \"^5.8.0\",\n    \"esbuild\": \"^0.14.0\",\n    \"eslint\": \"^8.5.0\",\n    \"eslint-plugin-testing-library\": \"^5.0.1\",\n    \"http-proxy-middleware\": \"^2.0.1\",\n    \"husky\": \"^7.0.2\",\n    \"jest\": \"^27.2.0\",\n    \"jest-mock\": \"^27.4.2\",\n    \"lint-staged\": \"^12.0.2\",\n    \"ts-jest\": \"^27.0.5\",\n    \"typedoc\": \"^0.22.7\",\n    \"typescript\": \"~4.5.4\",\n    \"yn\": \"^5.0.0\"\n  },\n  \"engines\": {\n    \"node\": \">=12.13.0\"\n  },\n  \"lint-staged\": {\n    \"*.{js,jsx,ts,tsx}\": \"eslint --cache --fix\"\n  }\n}\n"],"names":["InvalidCharacterError","message","this","prototype","Error","name","window","atob","bind","input","str","String","replace","length","bs","buffer","bc","idx","output","charAt","fromCharCode","indexOf","decodeURIComponent","m","p","code","charCodeAt","toString","toUpperCase","b64DecodeUnicode","err","InvalidTokenError","token","options","pos","header","JSON","parse","base64_url_decode","split","e"],"version":3,"file":"sample.47ca507c.js.map","sourceRoot":"/__parcel_source_root/"}